<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
<title>The Silent Signal</title>
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THE SILENT SIGNAL â€” PREMIUM ROMANTIC EXPERIENCE
   âœ¨ Cinematic aurora, neon pulses, glitter rain,
   glass morphism, spinning borders, 3D depth,
   liquid buttons, heartbeat animations
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root{
--bg:#0a0008;--bg2:#0d0010;
--card-bg:rgba(255,40,120,0.04);
--card-border:rgba(255,20,147,0.1);
--glass:rgba(255,20,147,0.03);
--primary:#FF1493;--primary-rgb:255,20,147;
--secondary:#FF69B4;--secondary-rgb:255,105,180;
--accent:#FF4081;--accent-rgb:255,64,129;
--neon-pink:#FF10F0;--neon-purple:#D946EF;--neon-rose:#FB7185;
--soft-pink:#FFB6C1;--deep-purple:#9333EA;--hot:#FF006E;
--glow:rgba(255,20,147,0.15);--glow-strong:rgba(255,20,147,0.35);
--text:#fff;--text-dim:rgba(255,255,255,0.6);--text-muted:rgba(255,255,255,0.3);
--font-display:'Orbitron',monospace;--font-body:'Space Grotesk',sans-serif;
--font-accent:'Rajdhani',sans-serif;--font-script:'Dancing Script',cursive;
--safe-top:env(safe-area-inset-top);--safe-bottom:env(safe-area-inset-bottom);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden;font-family:var(--font-body);background:var(--bg);color:var(--text);user-select:none;-webkit-user-select:none}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒŒ CINEMATIC AURORA BACKGROUND
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.aurora{position:fixed;inset:0;z-index:0;
background:
    radial-gradient(ellipse at 0% 0%,rgba(var(--primary-rgb),0.12),transparent 50%),
    radial-gradient(ellipse at 100% 0%,rgba(217,70,239,0.08),transparent 50%),
    radial-gradient(ellipse at 100% 100%,rgba(var(--primary-rgb),0.1),transparent 50%),
    radial-gradient(ellipse at 0% 100%,rgba(var(--accent-rgb),0.06),transparent 50%),
    radial-gradient(ellipse at 50% 50%,rgba(var(--secondary-rgb),0.04),transparent 60%),
    var(--bg)}
.aorb{position:absolute;border-radius:50%;filter:blur(100px);animation:orbFloat 18s ease-in-out infinite;mix-blend-mode:screen;will-change:transform}
.ao1{width:60vw;height:60vw;top:-20%;left:-20%;background:radial-gradient(circle,rgba(var(--primary-rgb),0.18),transparent 70%);animation-duration:24s}
.ao2{width:50vw;height:50vw;bottom:-25%;right:-20%;background:radial-gradient(circle,rgba(217,70,239,0.14),transparent 70%);animation-duration:20s;animation-delay:-6s}
.ao3{width:40vw;height:40vw;top:25%;left:55%;background:radial-gradient(circle,rgba(var(--secondary-rgb),0.1),transparent 70%);animation-duration:28s;animation-delay:-12s}
.ao4{width:35vw;height:35vw;top:60%;left:10%;background:radial-gradient(circle,rgba(var(--accent-rgb),0.08),transparent 70%);animation-duration:22s;animation-delay:-4s}
@keyframes orbFloat{
0%,100%{transform:translate(0,0) scale(1);opacity:.5}
20%{transform:translate(6%,-10%) scale(1.2);opacity:.7}
40%{transform:translate(-4%,8%) scale(.85);opacity:.4}
60%{transform:translate(8%,4%) scale(1.15);opacity:.65}
80%{transform:translate(-5%,-6%) scale(.95);opacity:.5}
}

/* Grid pattern */
.grid-ov{position:fixed;inset:0;z-index:1;pointer-events:none;
background-image:linear-gradient(rgba(var(--primary-rgb),0.015) 1px,transparent 1px),
linear-gradient(90deg,rgba(var(--primary-rgb),0.015) 1px,transparent 1px);
background-size:40px 40px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ¨ GLITTER RAIN SYSTEM
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.particles{position:fixed;inset:0;z-index:3;pointer-events:none;overflow:hidden}
.ptc{position:absolute;opacity:0;will-change:transform,opacity}
.ptc-heart{animation:ptcHeart linear infinite;
filter:drop-shadow(0 0 8px rgba(var(--primary-rgb),0.6))}
.ptc-sparkle{border-radius:50%;
background:radial-gradient(circle,#fff,rgba(var(--primary-rgb),0.8));
box-shadow:0 0 4px #fff,0 0 8px rgba(var(--primary-rgb),0.6),0 0 16px rgba(var(--primary-rgb),0.3);
animation:ptcSparkle linear infinite}
.ptc-star{animation:ptcStar linear infinite;
text-shadow:0 0 10px rgba(var(--primary-rgb),0.5)}
.ptc-glow{border-radius:50%;
background:rgba(var(--primary-rgb),0.5);
box-shadow:0 0 8px rgba(var(--primary-rgb),0.5),0 0 16px rgba(var(--primary-rgb),0.3);
animation:ptcGlow linear infinite}
@keyframes ptcHeart{
0%{transform:translateY(110vh) translateX(0) rotate(0) scale(0);opacity:0}
3%{opacity:.8;transform:translateY(103vh) translateX(0) scale(1)}
20%{transform:translateY(80vh) translateX(20px) rotate(45deg)}
40%{transform:translateY(60vh) translateX(-15px) rotate(90deg);opacity:.5}
60%{transform:translateY(40vh) translateX(25px) rotate(180deg);opacity:.3}
80%{transform:translateY(20vh) translateX(-10px) rotate(270deg);opacity:.15}
100%{transform:translateY(-5vh) translateX(15px) rotate(360deg) scale(.3);opacity:0}}
@keyframes ptcSparkle{
0%{transform:translateY(110vh) scale(0);opacity:0}
5%{opacity:1;transform:translateY(100vh) scale(1)}
50%{opacity:.4}
100%{transform:translateY(-5vh) scale(.2);opacity:0}}
@keyframes ptcStar{
0%{transform:translateY(110vh) rotate(0) scale(0);opacity:0}
5%{opacity:.6;transform:translateY(100vh) scale(1)}
100%{transform:translateY(-5vh) rotate(360deg) scale(.3);opacity:0}}
@keyframes ptcGlow{
0%{transform:translateY(110vh) scale(0);opacity:0}
5%{opacity:.7;transform:translateY(100vh) scale(1)}
50%{opacity:.3;transform:translateY(50vh) scale(1.5)}
100%{transform:translateY(-5vh) scale(.5);opacity:0}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ’ GLASSMORPHISM + NEON BORDERS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.glass{
background:rgba(255,20,147,0.035);
backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);
border:1px solid rgba(var(--primary-rgb),0.08);
box-shadow:
    0 8px 32px rgba(0,0,0,0.25),
    0 0 20px rgba(var(--primary-rgb),0.04),
    inset 0 1px 0 rgba(255,255,255,0.05),
    inset 0 -1px 0 rgba(0,0,0,0.1)}

/* Spinning neon border */
.neon-wrap{position:relative;border-radius:24px;padding:1px;overflow:hidden}
.neon-wrap::before{content:'';position:absolute;inset:-2px;
background:conic-gradient(from 0deg,transparent,rgba(var(--primary-rgb),0.4),rgba(217,70,239,0.3),transparent,rgba(var(--primary-rgb),0.3),transparent);
animation:spinBorder 6s linear infinite;border-radius:inherit}
@keyframes spinBorder{to{transform:rotate(360deg)}}
.neon-wrap>*{position:relative;z-index:1;border-radius:23px}

/* Static top glow */
.top-glow{position:relative;overflow:hidden}
.top-glow::before{content:'';position:absolute;top:-1px;left:5%;right:5%;height:1px;z-index:2;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.6),rgba(var(--secondary-rgb),0.4),rgba(var(--primary-rgb),0.6),transparent)}
.top-glow::after{content:'';position:absolute;top:0;left:10%;right:10%;height:40px;z-index:1;
background:radial-gradient(ellipse at top,rgba(var(--primary-rgb),0.06),transparent 70%);pointer-events:none}

/* Breathing border */
.breath{animation:breathe 4s ease-in-out infinite}
@keyframes breathe{0%,100%{border-color:rgba(var(--primary-rgb),0.06);box-shadow:0 0 0 rgba(var(--primary-rgb),0)}50%{border-color:rgba(var(--primary-rgb),0.2);box-shadow:0 0 30px rgba(var(--primary-rgb),0.06),0 0 60px rgba(var(--primary-rgb),0.02)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   âœ¨ TEXT EFFECTS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.shimmer{
background:linear-gradient(120deg,
    var(--soft-pink) 0%,var(--primary) 15%,var(--neon-purple) 30%,
    #fff 45%,var(--primary) 55%,var(--neon-rose) 70%,
    var(--soft-pink) 85%,var(--primary) 100%);
background-size:250% 100%;
-webkit-background-clip:text;background-clip:text;
-webkit-text-fill-color:transparent;
animation:shimAnim 4s linear infinite}
@keyframes shimAnim{0%{background-position:250% 0}100%{background-position:-250% 0}}

.gradient-txt{
background:linear-gradient(135deg,var(--primary),var(--neon-purple),var(--secondary),var(--primary));
background-size:300% 300%;
-webkit-background-clip:text;background-clip:text;
-webkit-text-fill-color:transparent;
animation:gradAnim 5s ease infinite}
@keyframes gradAnim{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}

.neon-text{text-shadow:0 0 10px rgba(var(--primary-rgb),0.5),0 0 20px rgba(var(--primary-rgb),0.3),0 0 40px rgba(var(--primary-rgb),0.15)}

.script-text{font-family:var(--font-script);color:var(--soft-pink)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒŠ LIQUID BUTTON (PREMIUM)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.liquid-btn{
position:relative;overflow:hidden;border:none;
border-radius:16px;padding:16px 36px;cursor:pointer;
font-family:var(--font-display);font-size:11px;font-weight:700;
letter-spacing:3px;text-transform:uppercase;color:#fff;
background:linear-gradient(135deg,var(--primary),var(--deep-purple),var(--hot),var(--neon-purple),var(--primary));
background-size:400% 400%;animation:liqFlow 8s ease infinite;
box-shadow:0 6px 25px rgba(var(--primary-rgb),0.35),0 0 40px rgba(var(--primary-rgb),0.1),0 0 80px rgba(var(--primary-rgb),0.05);
transition:all .3s cubic-bezier(.4,0,.2,1)}
@keyframes liqFlow{0%{background-position:0% 50%}25%{background-position:50% 0%}50%{background-position:100% 50%}75%{background-position:50% 100%}100%{background-position:0% 50%}}
.liquid-btn::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
background:linear-gradient(45deg,transparent 38%,rgba(255,255,255,0.06) 42%,rgba(255,255,255,0.2) 50%,rgba(255,255,255,0.06) 58%,transparent 62%);
animation:btnShine 3s infinite}
@keyframes btnShine{0%{transform:translateX(-100%) rotate(25deg)}100%{transform:translateX(100%) rotate(25deg)}}
.liquid-btn:active{transform:scale(.94);box-shadow:0 3px 12px rgba(var(--primary-rgb),0.5)}
.liquid-btn.loading{pointer-events:none;opacity:.7}
.liquid-btn.loading .btn-text{visibility:hidden}
.liquid-btn.loading .spinner{position:absolute;top:50%;left:50%;margin:-11px 0 0 -11px;width:22px;height:22px;border:2.5px solid rgba(255,255,255,.15);border-top-color:#fff;border-radius:50%;animation:spin .7s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“„ PAGE SYSTEM
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page{position:fixed;inset:0;display:none;flex-direction:column;z-index:10;overflow:hidden}
.page.active{display:flex}
.page.anim-slide{animation:pgSlide .45s cubic-bezier(.16,1,.3,1)}
.page.anim-fade{animation:pgFade .35s ease}
.page.anim-scale{animation:pgScale .5s cubic-bezier(.16,1,.3,1)}
@keyframes pgSlide{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes pgFade{from{opacity:0}to{opacity:1}}
@keyframes pgScale{from{transform:scale(.88);opacity:0;filter:blur(8px)}to{transform:scale(1);opacity:1;filter:blur(0)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸŒŸ SPLASH â€” CINEMATIC
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pg-splash{justify-content:center;align-items:center;
background:radial-gradient(ellipse at 50% 35%,rgba(var(--primary-rgb),0.1),var(--bg) 65%)}

.sp-container{text-align:center;position:relative}
/* Multi-ring pulse */
.sp-ring-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}
.sp-ring{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;
border:1.5px solid rgba(var(--primary-rgb),0.2)}
.sp-ring:nth-child(1){width:90px;height:90px;animation:ringPulse 3s ease-out infinite}
.sp-ring:nth-child(2){width:90px;height:90px;animation:ringPulse 3s ease-out 1s infinite}
.sp-ring:nth-child(3){width:70px;height:70px;animation:ringPulse 3s ease-out 2s infinite;border-color:rgba(217,70,239,0.15)}
.sp-ring:nth-child(4){width:120px;height:120px;animation:ringPulse 4s ease-out .5s infinite;border-color:rgba(var(--secondary-rgb),0.1)}
@keyframes ringPulse{0%{transform:translate(-50%,-50%) scale(.5);opacity:.8}100%{transform:translate(-50%,-50%) scale(4.5);opacity:0}}

/* Glow orbs */
.sp-glow{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;
background:radial-gradient(circle,rgba(var(--primary-rgb),0.15),transparent 70%);
width:220px;height:220px;animation:spGlow 3s ease-in-out infinite}
.sp-glow2{width:300px;height:300px;background:radial-gradient(circle,rgba(217,70,239,0.08),transparent 70%);animation-delay:1.5s}
.sp-glow3{width:160px;height:160px;background:radial-gradient(circle,rgba(var(--secondary-rgb),0.1),transparent 70%);animation-delay:.8s}
@keyframes spGlow{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.5);opacity:.7}}

.sp-icon{font-size:72px;position:relative;z-index:2;
animation:heartBeat 1.6s ease-in-out infinite;
filter:drop-shadow(0 0 30px rgba(var(--primary-rgb),0.5)) drop-shadow(0 0 60px rgba(var(--primary-rgb),0.25))}
@keyframes heartBeat{0%,100%{transform:scale(1)}12%{transform:scale(1.2)}24%{transform:scale(1)}36%{transform:scale(1.15)}48%{transform:scale(1)}}

.sp-title{margin-top:35px;font-family:var(--font-display);font-size:16px;font-weight:900;
letter-spacing:8px;text-transform:uppercase;animation:spUp .8s ease .4s both}
.sp-divider{width:60px;height:2px;margin:18px auto;border-radius:2px;
background:linear-gradient(90deg,transparent,var(--primary),var(--neon-purple),var(--secondary),transparent);
animation:spUp .8s ease .7s both;box-shadow:0 0 10px rgba(var(--primary-rgb),0.3)}
.sp-tagline{font-family:var(--font-script);font-size:18px;color:var(--soft-pink);
animation:spUp .8s ease 1s both;opacity:.6}
@keyframes spUp{from{opacity:0;transform:translateY(20px);filter:blur(5px)}to{opacity:1;transform:translateY(0);filter:blur(0)}}

.sp-dots{display:flex;gap:10px;justify-content:center;margin-top:50px;animation:spUp .8s ease 1.3s both}
.sp-dot{width:7px;height:7px;border-radius:50%;background:var(--primary);
box-shadow:0 0 12px rgba(var(--primary-rgb),0.6),0 0 24px rgba(var(--primary-rgb),0.3);
animation:dotBounce 1.4s ease-in-out infinite}
.sp-dot:nth-child(2){animation-delay:.15s}.sp-dot:nth-child(3){animation-delay:.3s}
@keyframes dotBounce{0%,100%{opacity:.2;transform:scale(.6) translateY(0)}50%{opacity:1;transform:scale(1.3) translateY(-8px)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ” LOGIN â€” PREMIUM CARD
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pg-login{justify-content:center;align-items:center;padding:24px;
background:radial-gradient(ellipse at 50% 30%,rgba(var(--primary-rgb),0.04),transparent 60%)}

.login-outer{width:100%;max-width:360px}
.login-card{padding:40px 28px;border-radius:24px;text-align:center;
animation:pgScale .6s cubic-bezier(.16,1,.3,1)}

.login-icon{font-size:50px;margin-bottom:12px;
animation:loginFloat 5s ease-in-out infinite;
filter:drop-shadow(0 0 25px rgba(var(--primary-rgb),0.5))}
@keyframes loginFloat{
0%,100%{transform:translateY(0) rotate(0)}
20%{transform:translateY(-10px) rotate(3deg)}
50%{transform:translateY(-5px) rotate(-2deg)}
80%{transform:translateY(-8px) rotate(1deg)}}

.login-title{font-family:var(--font-display);font-size:14px;font-weight:700;letter-spacing:5px;text-transform:uppercase}
.login-tagline{font-family:var(--font-script);font-size:16px;color:var(--soft-pink);margin:4px 0 32px;opacity:.5}

.inp-group{margin-bottom:16px;text-align:left}
.inp-label{font-family:var(--font-display);font-size:8px;font-weight:500;letter-spacing:3px;
color:var(--soft-pink);text-transform:uppercase;margin-bottom:8px;display:block;opacity:.5}
.inp{width:100%;padding:15px 18px;border-radius:14px;
border:1.5px solid rgba(var(--primary-rgb),0.08);
background:rgba(var(--primary-rgb),0.025);color:#fff;
font-family:var(--font-body);font-size:15px;outline:none;
transition:all .4s cubic-bezier(.4,0,.2,1)}
.inp:focus{border-color:rgba(var(--primary-rgb),0.4);background:rgba(var(--primary-rgb),0.05);
box-shadow:0 0 0 4px rgba(var(--primary-rgb),0.06),0 0 30px rgba(var(--primary-rgb),0.06)}
.inp::placeholder{color:rgba(var(--primary-rgb),0.2);font-weight:300}
textarea.inp{resize:none;min-height:120px;line-height:1.7}
.login-error{font-family:var(--font-accent);color:var(--neon-rose);font-size:13px;margin-top:14px;min-height:20px}
.shake{animation:shakeIt .5s cubic-bezier(.36,.07,.19,.97)}
@keyframes shakeIt{10%,90%{transform:translateX(-4px)}20%,80%{transform:translateX(6px)}30%,50%,70%{transform:translateX(-8px)}40%,60%{transform:translateX(8px)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“± NAV BAR + PAGE HEADERS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.nav-bar{display:flex;align-items:center;justify-content:space-between;
padding:16px 20px;padding-top:max(16px,var(--safe-top));
border-bottom:1px solid rgba(var(--primary-rgb),0.1);
background:rgba(10,0,8,0.85);backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);
z-index:5;position:relative}
.nav-bar::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.25),rgba(var(--secondary-rgb),0.15),transparent)}

.nav-left{display:flex;align-items:center;gap:10px}
.nav-logo{font-size:20px;filter:drop-shadow(0 0 12px rgba(var(--primary-rgb),0.6));
animation:logoPulse 3s ease-in-out infinite}
@keyframes logoPulse{0%,100%{filter:drop-shadow(0 0 8px rgba(var(--primary-rgb),.4));transform:scale(1)}50%{filter:drop-shadow(0 0 20px rgba(var(--primary-rgb),.8));transform:scale(1.05)}}
.nav-brand{font-family:var(--font-display);font-size:10px;font-weight:700;letter-spacing:2.5px;text-transform:uppercase}
.nav-right{display:flex;align-items:center;gap:14px}
.nav-online{display:flex;align-items:center;gap:6px;font-family:var(--font-accent);font-size:12px;color:var(--text-dim)}
.status-dot{width:8px;height:8px;border-radius:50%;
box-shadow:0 0 12px currentColor,0 0 24px currentColor;
animation:statusGlow 2s ease-in-out infinite}
@keyframes statusGlow{0%,100%{box-shadow:0 0 6px currentColor}50%{box-shadow:0 0 18px currentColor,0 0 30px currentColor}}
.s-on{background:#4ADE80;color:#4ADE80}.s-off{background:#FF6B9D;color:#FF6B9D}
.nav-avatar{width:36px;height:36px;border-radius:12px;
background:rgba(var(--primary-rgb),0.06);border:1.5px solid rgba(var(--primary-rgb),0.1);
display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;
transition:all .3s;box-shadow:0 0 15px rgba(var(--primary-rgb),0.05)}
.nav-avatar:active{transform:scale(.85);border-color:rgba(var(--primary-rgb),0.4);box-shadow:0 0 25px rgba(var(--primary-rgb),0.15)}

.pg-header{display:flex;align-items:center;gap:14px;
padding:16px 20px;padding-top:max(16px,var(--safe-top));
border-bottom:1px solid rgba(var(--primary-rgb),0.08);
background:rgba(10,0,8,0.85);backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);
z-index:5;position:relative;min-height:60px}
.pg-header::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.15),transparent)}
.btn-back{width:40px;height:40px;border-radius:12px;
border:1.5px solid rgba(var(--primary-rgb),0.08);
background:rgba(var(--primary-rgb),0.04);color:#fff;font-size:16px;
cursor:pointer;display:flex;align-items:center;justify-content:center;
transition:all .25s;flex-shrink:0}
.btn-back:active{transform:scale(.82);border-color:rgba(var(--primary-rgb),0.4);
box-shadow:0 0 20px rgba(var(--primary-rgb),0.12)}
.pg-title{font-family:var(--font-display);font-size:11px;font-weight:600;
letter-spacing:2.5px;text-transform:uppercase;flex:1}
.pg-body{flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding:20px}
.hdr-btn{padding:8px 18px;border-radius:50px;
border:1px solid rgba(var(--primary-rgb),0.15);
background:rgba(var(--primary-rgb),0.06);color:var(--soft-pink);
font-family:var(--font-accent);font-size:12px;cursor:pointer;
transition:all .3s;flex-shrink:0;
box-shadow:0 0 10px rgba(var(--primary-rgb),0.05)}
.hdr-btn:active{background:rgba(var(--primary-rgb),0.15);transform:scale(.94)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ  HOME â€” DASHBOARD
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.home-scroll{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;
padding-bottom:max(40px,var(--safe-bottom))}

/* Banner */
.banner{margin:24px 20px;padding:30px 24px;border-radius:24px;
text-align:center;position:relative;overflow:hidden;
animation:pgScale .6s cubic-bezier(.16,1,.3,1);
background:linear-gradient(135deg,rgba(var(--primary-rgb),0.08),rgba(217,70,239,0.04),rgba(var(--secondary-rgb),0.03))}
.banner::before{content:'';position:absolute;top:0;left:5%;right:5%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.5),rgba(var(--secondary-rgb),0.3),transparent)}
.banner::after{content:'';position:absolute;bottom:0;left:15%;right:15%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.12),transparent)}

.ban-emoji{font-size:48px;display:block;margin-bottom:12px;
animation:emojiFloat 5s ease-in-out infinite;
filter:drop-shadow(0 0 20px rgba(var(--primary-rgb),0.3))}
@keyframes emojiFloat{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.06)}}
.ban-greet{font-family:var(--font-display);font-size:18px;font-weight:700;letter-spacing:1px}
.ban-greet span{color:var(--primary);text-shadow:0 0 25px rgba(var(--primary-rgb),0.4)}
.ban-date{font-family:var(--font-accent);color:var(--soft-pink);font-size:15px;margin-top:6px;opacity:.7}
.ban-quote{font-family:var(--font-script);color:rgba(var(--primary-rgb),0.4);
font-size:15px;margin-top:8px;line-height:1.5}

/* Quick actions */
.quick-row{display:flex;gap:10px;padding:0 20px;margin:20px 0;overflow-x:auto;scrollbar-width:none}
.quick-row::-webkit-scrollbar{display:none}
.quick-btn{flex-shrink:0;padding:10px 22px;border-radius:50px;
border:1px solid rgba(var(--primary-rgb),0.1);
background:rgba(var(--primary-rgb),0.04);
color:var(--soft-pink);font-family:var(--font-accent);font-size:14px;
cursor:pointer;white-space:nowrap;transition:all .3s;
box-shadow:0 0 10px rgba(var(--primary-rgb),0.03)}
.quick-btn:active{background:rgba(var(--primary-rgb),0.12);
border-color:rgba(var(--primary-rgb),0.3);color:#fff;
transform:scale(.95);box-shadow:0 0 20px rgba(var(--primary-rgb),0.1)}

/* Section label */
.sec-label{font-family:var(--font-display);font-size:9px;font-weight:600;
letter-spacing:5px;color:var(--soft-pink);text-transform:uppercase;
padding:0 20px;margin:26px 0 18px;opacity:.35;text-align:center}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸƒ FEATURE GRID â€” 3D CARDS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.feat-grid{display:grid;grid-template-columns:repeat(3,1fr);
gap:14px;padding:0 20px;perspective:800px}

.feat-card{
background:rgba(var(--primary-rgb),0.035);
backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);
border:1px solid rgba(var(--primary-rgb),0.08);
border-radius:20px;padding:22px 12px;
text-align:center;cursor:pointer;
position:relative;overflow:hidden;
transition:all .4s cubic-bezier(.4,0,.2,1);
transform-style:preserve-3d}

/* Top glow line */
.feat-card::before{content:'';position:absolute;top:0;left:15%;right:15%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.25),transparent);
opacity:0;transition:opacity .3s}
/* Radial spotlight */
.feat-card::after{content:'';position:absolute;inset:0;border-radius:inherit;
background:radial-gradient(circle at 50% 20%,rgba(var(--primary-rgb),0.1),transparent 55%);
opacity:0;transition:opacity .3s;pointer-events:none}

.feat-card:active{
transform:scale(.92) rotateX(4deg);
border-color:rgba(var(--primary-rgb),0.25);
box-shadow:0 10px 35px rgba(0,0,0,0.3),0 0 25px rgba(var(--primary-rgb),0.12),0 0 50px rgba(var(--primary-rgb),0.04);
background:rgba(var(--primary-rgb),0.06)}
.feat-card:active::before,.feat-card:active::after{opacity:1}

.feat-icon{font-size:34px;display:block;margin-bottom:10px;
transition:all .4s cubic-bezier(.175,.885,.32,1.275);
filter:drop-shadow(0 3px 10px rgba(0,0,0,0.3))}
.feat-card:active .feat-icon{transform:scale(1.25) translateY(-6px) rotate(5deg);
filter:drop-shadow(0 6px 15px rgba(var(--primary-rgb),0.35))}

.feat-name{font-family:var(--font-display);font-size:8px;font-weight:700;
color:var(--soft-pink);letter-spacing:2px;text-transform:uppercase}
.feat-sub{font-family:var(--font-accent);font-size:11px;
color:var(--primary);margin-top:3px;opacity:.4}

/* Stagger entrance */
.feat-card{opacity:0;animation:cardPop .5s cubic-bezier(.16,1,.3,1) forwards}
.feat-card:nth-child(1){animation-delay:.05s}.feat-card:nth-child(2){animation-delay:.1s}
.feat-card:nth-child(3){animation-delay:.15s}.feat-card:nth-child(4){animation-delay:.22s}
.feat-card:nth-child(5){animation-delay:.29s}.feat-card:nth-child(6){animation-delay:.36s}
.feat-card:nth-child(7){animation-delay:.43s}.feat-card:nth-child(8){animation-delay:.5s}
.feat-card:nth-child(9){animation-delay:.57s}
@keyframes cardPop{from{opacity:0;transform:translateY(25px) scale(.88) rotateX(10deg)}
to{opacity:1;transform:translateY(0) scale(1) rotateX(0)}}

/* Unread badge */
.ubadge{position:absolute;top:8px;right:8px;min-width:18px;height:18px;
border-radius:50%;background:var(--primary);color:#fff;
font-family:var(--font-display);font-size:7px;font-weight:700;
display:flex;align-items:center;justify-content:center;
box-shadow:0 0 14px rgba(var(--primary-rgb),0.6),0 0 28px rgba(var(--primary-rgb),0.3);
animation:badgePulse 1.8s ease-in-out infinite;padding:0 4px}
@keyframes badgePulse{0%,100%{box-shadow:0 0 6px rgba(var(--primary-rgb),.4);transform:scale(1)}50%{box-shadow:0 0 20px rgba(var(--primary-rgb),.7);transform:scale(1.1)}}

/* â•â•â• SYNC METER â•â•â• */
.sync-wrap{margin:28px 20px 0;padding:22px 24px;border-radius:20px;position:relative;overflow:hidden}
.sync-wrap::before{content:'';position:absolute;top:0;left:15%;right:15%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.2),transparent)}
.sync-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.sync-lbl{font-family:var(--font-display);font-size:9px;font-weight:600;letter-spacing:3px;text-transform:uppercase}
.sync-val{font-family:var(--font-accent);font-size:22px;font-weight:700;
color:var(--secondary);text-shadow:0 0 20px rgba(var(--secondary-rgb),0.4)}
.sync-bg{width:100%;height:6px;border-radius:6px;background:rgba(var(--primary-rgb),0.06);overflow:hidden;
border:1px solid rgba(var(--primary-rgb),0.05)}
.sync-fill{height:100%;border-radius:6px;
background:linear-gradient(90deg,var(--primary),var(--neon-purple),var(--secondary),var(--primary));
background-size:300% 100%;
box-shadow:0 0 15px rgba(var(--primary-rgb),0.4),0 0 30px rgba(var(--primary-rgb),0.15);
animation:syncGlow 3s ease-in-out infinite,syncFlow 5s linear infinite;
transition:width 2s cubic-bezier(.4,0,.2,1)}
@keyframes syncGlow{0%,100%{box-shadow:0 0 10px rgba(var(--primary-rgb),.3)}50%{box-shadow:0 0 25px rgba(var(--primary-rgb),.6),0 0 50px rgba(var(--primary-rgb),.2)}}
@keyframes syncFlow{0%{background-position:300% 0}100%{background-position:-300% 0}}

/* Home quote */
.home-quote{margin:18px 20px 0;padding:20px;border-radius:18px;text-align:center}
.home-quote-txt{font-family:var(--font-script);font-size:16px;color:rgba(var(--primary-rgb),0.4);line-height:1.7}

.home-ft{text-align:center;padding:35px 0 15px;font-family:var(--font-script);
font-size:14px;color:rgba(var(--primary-rgb),0.12)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ’¬ CHAT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.chat-hdr{display:flex;align-items:center;gap:12px;
padding:14px 18px;padding-top:max(14px,var(--safe-top));
border-bottom:1px solid rgba(var(--primary-rgb),0.08);
background:rgba(10,0,8,0.9);backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);z-index:5}
.chat-info{flex:1}.chat-name{font-family:var(--font-display);font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase}
.chat-status{display:flex;align-items:center;gap:5px;font-family:var(--font-accent);font-size:11px;color:var(--text-dim);margin-top:3px}
.chat-av{width:40px;height:40px;border-radius:50%;
background:linear-gradient(135deg,rgba(var(--primary-rgb),0.12),rgba(217,70,239,0.08));
border:1.5px solid rgba(var(--primary-rgb),0.15);
display:flex;align-items:center;justify-content:center;font-size:20px;
box-shadow:0 0 18px rgba(var(--primary-rgb),0.12)}
.chat-msgs{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:16px;display:flex;flex-direction:column;gap:6px}
.chat-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;opacity:.4}
.chat-empty-icon{font-size:56px;margin-bottom:14px;animation:emojiFloat 3s ease-in-out infinite}
.chat-empty-txt{font-family:var(--font-display);font-size:10px;letter-spacing:3px;text-transform:uppercase;color:var(--text-muted)}
.msg-date{text-align:center;padding:12px 0 8px;position:relative}
.msg-date span{font-family:var(--font-display);font-size:7px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--soft-pink);opacity:.35;background:var(--bg);padding:0 14px;position:relative;z-index:1}
.msg-date::before{content:'';position:absolute;top:50%;left:8%;right:8%;height:1px;background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.1),transparent)}
.msg-row{display:flex;max-width:80%;animation:msgPop .3s cubic-bezier(.16,1,.3,1)}.msg-row.sent{align-self:flex-end}.msg-row.recv{align-self:flex-start}
@keyframes msgPop{from{opacity:0;transform:translateY(12px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.msg-bub{padding:11px 15px;border-radius:18px;font-size:14px;line-height:1.55;word-wrap:break-word;position:relative}
.sent .msg-bub{background:linear-gradient(135deg,rgba(var(--primary-rgb),0.2),rgba(217,70,239,0.12));border:1px solid rgba(var(--primary-rgb),0.12);border-bottom-right-radius:5px;box-shadow:0 4px 15px rgba(var(--primary-rgb),0.06)}
.recv .msg-bub{background:rgba(var(--primary-rgb),0.04);border:1px solid rgba(var(--primary-rgb),0.06);border-bottom-left-radius:5px}
.msg-txt{font-family:var(--font-body);font-size:13.5px}
.msg-time{font-family:var(--font-accent);font-size:10px;color:rgba(var(--primary-rgb),0.3);margin-top:3px;display:flex;align-items:center;gap:3px}.sent .msg-time{justify-content:flex-end}
.msg-chk{font-size:9px;color:rgba(var(--primary-rgb),0.3)}.msg-chk.read{color:rgba(var(--primary-rgb),0.8)}
.typ-wrap{padding:4px 16px 8px;display:none;align-items:center;gap:8px}.typ-wrap.show{display:flex}
.typ-dots{display:flex;gap:4px;padding:8px 12px;background:rgba(var(--primary-rgb),0.04);border-radius:18px}
.typ-dots span{width:6px;height:6px;border-radius:50%;background:var(--primary);opacity:.3;animation:typD 1.4s ease-in-out infinite}
.typ-dots span:nth-child(2){animation-delay:.2s}.typ-dots span:nth-child(3){animation-delay:.4s}
@keyframes typD{0%,100%{opacity:.2;transform:scale(.6)}50%{opacity:1;transform:scale(1.3)}}
.typ-lbl{font-family:var(--font-accent);font-size:11px;color:var(--soft-pink);opacity:.4}
.chat-bar{display:flex;align-items:flex-end;gap:10px;padding:12px 16px;
padding-bottom:max(12px,var(--safe-bottom));
border-top:1px solid rgba(var(--primary-rgb),0.06);
background:rgba(10,0,8,0.9);backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px)}
.chat-inp{width:100%;padding:13px 18px;border-radius:24px;
border:1.5px solid rgba(var(--primary-rgb),0.08);
background:rgba(var(--primary-rgb),0.03);color:#fff;
font-family:var(--font-body);font-size:14px;outline:none;transition:all .3s}
.chat-inp:focus{border-color:rgba(var(--primary-rgb),0.3);background:rgba(var(--primary-rgb),0.05);
box-shadow:0 0 20px rgba(var(--primary-rgb),0.06)}
.chat-inp::placeholder{color:rgba(var(--primary-rgb),0.2)}
.chat-send{width:46px;height:46px;border-radius:50%;border:none;cursor:pointer;
display:flex;align-items:center;justify-content:center;font-size:18px;
transition:all .3s;flex-shrink:0;
background:linear-gradient(135deg,var(--primary),var(--deep-purple));color:#fff;
box-shadow:0 4px 18px rgba(var(--primary-rgb),0.3),0 0 25px rgba(var(--primary-rgb),0.08)}
.chat-send:active{transform:scale(.85);box-shadow:0 2px 8px rgba(var(--primary-rgb),0.5)}
.chat-send.disabled{opacity:.25;pointer-events:none;box-shadow:none}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHARED COMPONENTS (Letters, Confessions, etc.)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tabs{display:flex;border-bottom:1px solid rgba(var(--primary-rgb),0.06);background:rgba(10,0,8,0.5)}
.tab{flex:1;padding:12px;text-align:center;font-family:var(--font-display);font-size:8px;font-weight:600;
letter-spacing:2px;text-transform:uppercase;color:var(--text-muted);cursor:pointer;
transition:all .3s;position:relative}
.tab.active{color:var(--primary)}
.tab.active::after{content:'';position:absolute;bottom:-1px;left:20%;right:20%;height:2px;
background:var(--primary);box-shadow:0 0 12px rgba(var(--primary-rgb),0.5);border-radius:2px}

.item-list{padding:18px;display:flex;flex-direction:column;gap:12px}
.list-item{border-radius:18px;padding:20px;cursor:pointer;transition:all .3s;
position:relative;overflow:hidden;animation:cardPop .4s ease forwards;opacity:0}
.list-item::before{content:'';position:absolute;top:0;left:12%;right:12%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.12),transparent)}
.list-item:active{transform:scale(.97);border-color:rgba(var(--primary-rgb),0.2)}

.item-mood{font-size:28px;float:left;margin-right:12px;margin-top:2px}
.item-title{font-family:var(--font-display);font-size:10px;font-weight:600;
letter-spacing:1.5px;color:var(--soft-pink);text-transform:uppercase}
.item-preview{font-family:var(--font-body);font-size:13px;color:rgba(255,255,255,0.65);
line-height:1.6;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:75%;margin-top:4px}
.item-meta{font-family:var(--font-accent);font-size:10px;color:var(--soft-pink);opacity:.35;margin-top:8px}
.item-dot{position:absolute;top:18px;right:18px;width:8px;height:8px;border-radius:50%;
background:var(--primary);box-shadow:0 0 12px rgba(var(--primary-rgb),0.5);animation:badgePulse 2s infinite}
.item-unread{border-color:rgba(var(--primary-rgb),0.15);box-shadow:0 0 20px rgba(var(--primary-rgb),0.05)}

.empty-state{text-align:center;padding:60px 24px;color:var(--text-muted)}
.empty-icon{font-size:50px;display:block;margin-bottom:14px;animation:emojiFloat 3s ease-in-out infinite}
.empty-txt{font-family:var(--font-display);font-size:10px;letter-spacing:3px;text-transform:uppercase}

/* Write forms */
.form-section{margin-bottom:20px}
.form-label{font-family:var(--font-display);font-size:7px;font-weight:500;
letter-spacing:3px;color:var(--soft-pink);text-transform:uppercase;
margin-bottom:10px;display:block;opacity:.45}
.mood-picker{display:flex;gap:8px;flex-wrap:wrap}
.mood-opt{width:44px;height:44px;border-radius:14px;
border:1.5px solid rgba(var(--primary-rgb),0.06);
background:rgba(var(--primary-rgb),0.03);display:flex;align-items:center;justify-content:center;
font-size:22px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}
.mood-opt.sel{border-color:rgba(var(--primary-rgb),0.4);
background:rgba(var(--primary-rgb),0.12);
box-shadow:0 0 18px rgba(var(--primary-rgb),0.15),0 0 36px rgba(var(--primary-rgb),0.06);
transform:scale(1.12)}
.mood-opt:active{transform:scale(.88)}

/* Read letter */
.read-letter{padding:24px 20px;text-align:center}
.rl-mood{font-size:52px;display:block;margin-bottom:16px;animation:emojiFloat 3s ease-in-out infinite;
filter:drop-shadow(0 0 20px rgba(var(--primary-rgb),0.3))}
.rl-title{font-family:var(--font-display);font-size:13px;font-weight:700;
letter-spacing:2px;text-transform:uppercase;color:var(--soft-pink)}
.rl-from{font-family:var(--font-accent);font-size:12px;color:var(--primary);margin:8px 0 22px;opacity:.45}
.rl-body{font-family:var(--font-body);font-size:15px;line-height:2;
color:rgba(255,255,255,0.8);text-align:left;padding:22px;border-radius:18px;white-space:pre-wrap}

/* Heart button */
.heart-btn{display:flex;align-items:center;gap:5px;padding:6px 16px;border-radius:50px;
border:1px solid rgba(var(--primary-rgb),0.08);background:transparent;
color:var(--text-muted);font-family:var(--font-accent);font-size:12px;
cursor:pointer;transition:all .3s}
.heart-btn.hearted{border-color:rgba(var(--primary-rgb),0.3);color:var(--primary);
background:rgba(var(--primary-rgb),0.06);box-shadow:0 0 12px rgba(var(--primary-rgb),0.1)}
.heart-btn:active{transform:scale(.85)}

.item-footer{display:flex;align-items:center;justify-content:space-between;
margin-top:12px;padding-top:10px;border-top:1px solid rgba(var(--primary-rgb),0.04)}

/* â•â•â• T&D â•â•â• */
.tod-wrap{display:flex;flex-direction:column;align-items:center;padding:28px 20px;text-align:center}
.tod-card{width:100%;max-width:340px;border-radius:24px;padding:32px 24px;
text-align:center;position:relative;overflow:hidden;min-height:200px;
display:flex;flex-direction:column;align-items:center;justify-content:center}
.tod-card::before{content:'';position:absolute;top:0;left:8%;right:8%;height:1px;
background:linear-gradient(90deg,transparent,rgba(var(--primary-rgb),0.35),transparent)}
.tod-emoji{font-size:50px;margin-bottom:16px;animation:emojiFloat 3s ease-in-out infinite}
.tod-type{font-family:var(--font-display);font-size:12px;font-weight:700;letter-spacing:4px;text-transform:uppercase;margin-bottom:14px}
.tod-type.truth{color:#4ADE80;text-shadow:0 0 15px rgba(74,222,128,0.3)}.tod-type.dare{color:var(--primary);text-shadow:0 0 15px rgba(var(--primary-rgb),0.3)}
.tod-q{font-family:var(--font-body);font-size:16px;line-height:1.7;color:rgba(255,255,255,0.85)}
.tod-cat{font-family:var(--font-accent);font-size:11px;color:var(--soft-pink);margin-top:14px;opacity:.35;letter-spacing:1px}
.tod-btns{display:flex;gap:12px;margin-top:28px;width:100%;max-width:340px}
.tod-btn{flex:1;padding:14px;border-radius:16px;border:1px solid rgba(var(--primary-rgb),0.06);
background:rgba(var(--primary-rgb),0.03);color:#fff;font-family:var(--font-display);
font-size:8px;font-weight:600;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .3s}
.tod-btn:active{transform:scale(.93)}
.tod-btn.truth-btn:active{border-color:rgba(74,222,128,0.4);box-shadow:0 0 25px rgba(74,222,128,0.12)}
.tod-btn.dare-btn:active{border-color:rgba(var(--primary-rgb),0.4);box-shadow:0 0 25px rgba(var(--primary-rgb),0.12)}
.tod-btn.rand-btn{background:linear-gradient(135deg,rgba(var(--primary-rgb),0.08),rgba(217,70,239,0.05));border-color:rgba(var(--primary-rgb),0.1)}
.tod-flip{animation:todFlip .5s ease}
@keyframes todFlip{0%{transform:rotateY(0) scale(1)}50%{transform:rotateY(90deg) scale(.88)}100%{transform:rotateY(0) scale(1)}}

/* â•â•â• QUOTES â•â•â• */
.qt-item{text-align:center;padding:24px 20px}
.qt-mark{font-size:30px;display:block;margin-bottom:8px;opacity:.15;color:var(--primary);font-family:serif}
.qt-text{font-family:var(--font-script);font-size:18px;line-height:1.8;color:rgba(255,255,255,0.75)}
.qt-auth{font-family:var(--font-accent);font-size:12px;color:var(--primary);margin-top:10px;opacity:.4}
.qt-foot{display:flex;align-items:center;justify-content:center;margin-top:14px;gap:12px}

/* â•â•â• MUSIC â•â•â• */
.song-item{display:flex;align-items:center;gap:14px;padding:16px;cursor:pointer}
.song-icon{font-size:32px;flex-shrink:0;filter:drop-shadow(0 0 10px rgba(var(--primary-rgb),0.3));
animation:songPulse 3s ease-in-out infinite}
@keyframes songPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}
.song-info{flex:1;overflow:hidden}
.song-title{font-family:var(--font-display);font-size:9px;font-weight:600;letter-spacing:1.5px;
color:var(--soft-pink);text-transform:uppercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.song-artist{font-family:var(--font-accent);font-size:12px;color:var(--text-muted);margin-top:3px}
.song-del{width:32px;height:32px;border-radius:50%;border:1px solid rgba(var(--primary-rgb),0.06);
background:transparent;color:var(--text-muted);font-size:12px;cursor:pointer;
display:flex;align-items:center;justify-content:center;transition:all .3s;flex-shrink:0}
.song-del:active{background:rgba(255,50,50,0.1);border-color:rgba(255,50,50,0.3);color:#FF5050}
.player{padding:16px 20px;padding-bottom:max(16px,var(--safe-bottom));
border-top:1px solid rgba(var(--primary-rgb),0.08);
background:rgba(10,0,8,0.9);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px)}
.player-title{text-align:center;font-family:var(--font-display);font-size:9px;letter-spacing:2px;
color:var(--soft-pink);text-transform:uppercase;margin-bottom:12px}
.player-ctrls{display:flex;align-items:center;justify-content:center;gap:22px}
.p-btn{width:44px;height:44px;border-radius:50%;border:1.5px solid rgba(var(--primary-rgb),0.1);
background:rgba(var(--primary-rgb),0.04);color:#fff;font-size:17px;cursor:pointer;
display:flex;align-items:center;justify-content:center;transition:all .3s}
.p-btn:active{transform:scale(.85);border-color:rgba(var(--primary-rgb),0.4)}
.p-btn.play{width:54px;height:54px;font-size:22px;
background:linear-gradient(135deg,var(--primary),var(--deep-purple));
border:none;box-shadow:0 4px 20px rgba(var(--primary-rgb),0.35)}

/* â•â•â• MEMORIES â•â•â• */
.mem-item{padding:18px;position:relative;border-left:2px solid rgba(var(--primary-rgb),0.15);margin-left:12px}
.mem-mood{font-size:24px;position:absolute;left:-16px;top:16px;background:var(--bg);padding:3px}
.mem-date{font-family:var(--font-display);font-size:8px;letter-spacing:3px;color:var(--primary);text-transform:uppercase;opacity:.5}
.mem-title{font-family:var(--font-display);font-size:10px;font-weight:600;letter-spacing:1.5px;
color:var(--soft-pink);margin-top:5px;text-transform:uppercase}
.mem-desc{font-family:var(--font-body);font-size:14px;color:rgba(255,255,255,0.7);line-height:1.7;margin-top:8px}
.mem-by{font-family:var(--font-accent);font-size:11px;color:var(--text-muted);margin-top:8px}

/* â•â•â• MEMES â•â•â• */
.meme-item{padding:16px;text-align:center}
.meme-img{width:100%;border-radius:14px;max-height:320px;object-fit:cover;
border:1px solid rgba(var(--primary-rgb),0.06)}
.meme-cap{font-family:var(--font-body);font-size:14px;color:rgba(255,255,255,0.75);margin-top:10px}

/* â•â•â• GAMES â•â•â• */
.game-hdr{text-align:center;padding:20px}
.game-score{font-family:var(--font-display);font-size:10px;letter-spacing:2px;color:var(--soft-pink);text-transform:uppercase}
.game-msg{font-family:var(--font-script);font-size:18px;color:var(--primary);margin-top:8px;min-height:24px}
.game-board{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:18px;max-width:380px;margin:0 auto}
.game-card{aspect-ratio:1;border-radius:16px;border:1.5px solid rgba(var(--primary-rgb),0.06);
background:rgba(var(--primary-rgb),0.04);display:flex;align-items:center;justify-content:center;
font-size:30px;cursor:pointer;transition:all .4s;position:relative}
.game-card.flipped{background:rgba(var(--primary-rgb),0.12);border-color:rgba(var(--primary-rgb),0.25);
box-shadow:0 0 18px rgba(var(--primary-rgb),0.15)}
.game-card.matched{background:rgba(74,222,128,0.08);border-color:rgba(74,222,128,0.2);
box-shadow:0 0 18px rgba(74,222,128,0.1);pointer-events:none}
.game-card:active{transform:scale(.9)}
.game-card .cf{opacity:0;transition:opacity .3s}.game-card.flipped .cf,.game-card.matched .cf{opacity:1}
.game-card .cb{position:absolute;font-size:20px;opacity:.2;transition:opacity .3s}.game-card.flipped .cb,.game-card.matched .cb{opacity:0}

/* â•â•â• RIPPLE â•â•â• */
.ripple{position:absolute;border-radius:50%;
background:radial-gradient(circle,rgba(var(--primary-rgb),0.3),transparent 70%);
transform:scale(0);animation:ripOut .65s ease-out;pointer-events:none}
@keyframes ripOut{to{transform:scale(4);opacity:0}}

/* â•â•â• SCROLLBAR â•â•â• */
::-webkit-scrollbar{width:2px}::-webkit-scrollbar-track{background:0 0}
::-webkit-scrollbar-thumb{background:rgba(var(--primary-rgb),0.12);border-radius:10px}

/* â•â•â• RESPONSIVE â•â•â• */
@media(max-width:380px){.feat-grid{gap:10px;padding:0 14px}.feat-card{padding:18px 8px}
.feat-icon{font-size:28px}.ban-greet{font-size:15px}}
@media(min-width:420px){.feat-grid{gap:16px}.feat-card{padding:26px 14px}.feat-icon{font-size:38px}}
</style>
</head>
<body>
<div class="aurora"><div class="aorb ao1"></div><div class="aorb ao2"></div><div class="aorb ao3"></div><div class="aorb ao4"></div></div>
<div class="grid-ov"></div><div class="particles" id="ptcBg"></div>

<!-- SPLASH --><div class="page active" id="pg-splash"><div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"><div class="sp-container"><div class="sp-glow"></div><div class="sp-glow sp-glow2"></div><div class="sp-glow sp-glow3"></div><div class="sp-ring-box"><div class="sp-ring"></div><div class="sp-ring"></div><div class="sp-ring"></div><div class="sp-ring"></div></div><div class="sp-icon">ğŸ¤«</div></div><div class="sp-title shimmer">The Silent Signal</div><div class="sp-divider"></div><div class="sp-tagline">only for us</div><div class="sp-dots"><div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div></div></div></div>

<!-- LOGIN --><div class="page" id="pg-login"><div style="flex:1;display:flex;align-items:center;justify-content:center;padding:24px"><div class="neon-wrap login-outer"><div class="login-card glass top-glow"><div class="login-icon">ğŸ¤«</div><div class="login-title shimmer">Silent Signal</div><div class="login-tagline">enter your signal</div><div class="inp-group"><label class="inp-label">Username</label><input class="inp" type="text" id="inpUser" placeholder="username" autocomplete="off" autocapitalize="off"></div><div class="inp-group"><label class="inp-label">Password</label><input class="inp" type="password" id="inpPass" placeholder="password"></div><button class="liquid-btn" id="btnLogin" onclick="handleLogin()" style="width:100%;margin-top:10px"><span class="btn-text">Connect</span><div class="spinner"></div></button><div class="login-error" id="loginError"></div></div></div></div></div>

<!-- HOME --><div class="page" id="pg-home"><div class="nav-bar"><div class="nav-left"><span class="nav-logo">ğŸ¤«</span><span class="nav-brand gradient-txt">Silent Signal</span></div><div class="nav-right"><div class="nav-online"><span class="status-dot s-off" id="statusDot"></span><span id="statusText">...</span></div><div class="nav-avatar" id="navAvatar" onclick="handleLogout()">ğŸ‘¤</div></div></div><div class="home-scroll">
<div class="banner glass top-glow"><span class="ban-emoji" id="greetEmoji">ğŸŒ™</span><div class="ban-greet" id="greetName"></div><div class="ban-date" id="greetDate"></div><div class="ban-quote" id="greetQuote"></div></div>
<div class="quick-row"><div class="quick-btn" onclick="nav('pg-chat')">ğŸ’¬ chat</div><div class="quick-btn" onclick="nav('pg-letters')">ğŸ’Œ letter</div><div class="quick-btn" onclick="nav('pg-confess')">ğŸ¤« confess</div><div class="quick-btn" onclick="nav('pg-tod')">ğŸ¯ T&D</div><div class="quick-btn" onclick="nav('pg-music')">ğŸµ music</div></div>
<div class="sec-label">âœ¦ our space âœ¦</div>
<div class="feat-grid">
<div class="feat-card" onclick="nav('pg-chat')"><span class="feat-icon">ğŸ’¬</span><span class="feat-name">Chat</span><span class="feat-sub">talk</span><span class="ubadge" id="chatBadge" style="display:none">0</span></div>
<div class="feat-card" onclick="nav('pg-music')"><span class="feat-icon">ğŸµ</span><span class="feat-name">Music</span><span class="feat-sub">listen</span></div>
<div class="feat-card" onclick="nav('pg-memories')"><span class="feat-icon">ğŸ“¸</span><span class="feat-name">Memories</span><span class="feat-sub">moments</span></div>
<div class="feat-card" onclick="nav('pg-memes')"><span class="feat-icon">ğŸ˜‚</span><span class="feat-name">Memes</span><span class="feat-sub">laugh</span></div>
<div class="feat-card" onclick="nav('pg-games')"><span class="feat-icon">ğŸƒ</span><span class="feat-name">Games</span><span class="feat-sub">play</span></div>
<div class="feat-card" onclick="nav('pg-tod')"><span class="feat-icon">ğŸ¯</span><span class="feat-name">T&D</span><span class="feat-sub">brave?</span></div>
<div class="feat-card" onclick="nav('pg-letters')"><span class="feat-icon">ğŸ’Œ</span><span class="feat-name">Letters</span><span class="feat-sub">heart</span><span class="ubadge" id="letterBadge" style="display:none">0</span></div>
<div class="feat-card" onclick="nav('pg-confess')"><span class="feat-icon">ğŸ¤«</span><span class="feat-name">Confess</span><span class="feat-sub">freely</span></div>
<div class="feat-card" onclick="nav('pg-quotes')"><span class="feat-icon">ğŸ’­</span><span class="feat-name">Quotes</span><span class="feat-sub">words</span></div>
</div>
<div class="sync-wrap glass top-glow"><div class="sync-hdr"><span class="sync-lbl gradient-txt">â™¡ Connection Sync</span><span class="sync-val" id="syncPct">0%</span></div><div class="sync-bg"><div class="sync-fill" id="syncBar" style="width:0%"></div></div></div>
<div class="home-quote glass"><div class="home-quote-txt" id="dailyQuote"></div></div>
<div class="home-ft">â™¡ our secret place â™¡</div></div></div>

<!-- CHAT --><div class="page" id="pg-chat"><div class="chat-hdr"><button class="btn-back" onclick="leaveChat()">â†</button><div class="chat-info"><div class="chat-name" id="chatName"></div><div class="chat-status"><span class="status-dot s-off" id="chatSD"></span><span id="chatST">offline</span></div></div><div class="chat-av" id="chatAv">ğŸ‘¸</div></div><div class="chat-msgs" id="chatMsgs"></div><div class="typ-wrap" id="typWrap"><div class="typ-dots"><span></span><span></span><span></span></div><span class="typ-lbl">typing...</span></div><div class="chat-bar"><div style="flex:1"><input type="text" class="chat-inp" id="chatInp" placeholder="type a message..." autocomplete="off"></div><button class="chat-send disabled" id="chatSend" onclick="sendMsg()">â¤</button></div></div>

<!-- LETTERS --><div class="page" id="pg-letters"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ’Œ Letters</span><button class="hdr-btn" onclick="showWL()">âœ Write</button></div><div class="tabs"><div class="tab active" id="ltIn" onclick="switchLT('inbox')">ğŸ“¥ Inbox</div><div class="tab" id="ltSent" onclick="switchLT('sent')">ğŸ“¤ Sent</div></div><div class="pg-body"><div class="item-list" id="lList"></div></div></div>
<!-- WRITE LETTER --><div class="page" id="pg-wl"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">âœ Letter</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Mood</span><div class="mood-picker" id="lMoods"></div></div><div class="form-section"><span class="form-label">Title</span><input class="inp" type="text" id="lTitle" placeholder="title..." autocomplete="off"></div><div class="form-section"><span class="form-label">Letter</span><textarea class="inp" id="lContent" placeholder="write from your heart..." style="min-height:180px"></textarea></div><button class="liquid-btn" style="width:100%" id="btnSL" onclick="sendLetter()"><span class="btn-text">ğŸ’Œ Send Letter</span><div class="spinner"></div></button></div></div>
<!-- READ LETTER --><div class="page" id="pg-rl"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ’Œ</span></div><div class="pg-body"><div class="read-letter" id="rlBody"></div></div></div>

<!-- CONFESS --><div class="page" id="pg-confess"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ¤« Confessions</span><button class="hdr-btn" onclick="showWC()">âœ Write</button></div><div class="pg-body"><div class="item-list" id="confList"></div></div></div>
<!-- WRITE CONF --><div class="page" id="pg-wc"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">âœ Confess</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Mood</span><div class="mood-picker" id="cMoods"></div></div><div class="form-section"><span class="form-label">Confession</span><textarea class="inp" id="cContent" placeholder="say what's in your heart..." style="min-height:180px"></textarea></div><button class="liquid-btn" style="width:100%" id="btnPC" onclick="postConf()"><span class="btn-text">ğŸ¤« Post Confession</span><div class="spinner"></div></button></div></div>

<!-- T&D --><div class="page" id="pg-tod"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ¯ Truth & Dare</span></div><div class="pg-body"><div class="tod-wrap"><div class="tod-card glass neon-wrap" id="todCard"><div class="tod-emoji" id="todEmoji">ğŸ¯</div><div class="tod-type" id="todType">Ready?</div><div class="tod-q" id="todQ">Choose Truth, Dare, or Random!</div><div class="tod-cat" id="todCat"></div></div><div class="tod-btns"><button class="tod-btn truth-btn" onclick="getTod('truth')">ğŸŸ¢ Truth</button><button class="tod-btn rand-btn" onclick="getTod('random')">ğŸ² Random</button><button class="tod-btn dare-btn" onclick="getTod('dare')">ğŸ”´ Dare</button></div></div></div></div>

<!-- QUOTES --><div class="page" id="pg-quotes"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ’­ Quotes</span><button class="hdr-btn" onclick="nav('pg-aq')">+ Add</button></div><div class="pg-body"><div class="item-list" id="qList"></div></div></div>
<!-- ADD QUOTE --><div class="page" id="pg-aq"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ’­ Add Quote</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Quote</span><textarea class="inp" id="aqText" placeholder="a beautiful quote..." style="min-height:120px"></textarea></div><div class="form-section"><span class="form-label">Author (optional)</span><input class="inp" type="text" id="aqAuth" placeholder="who said it?" autocomplete="off"></div><button class="liquid-btn" style="width:100%" id="btnAQ" onclick="addQuote()"><span class="btn-text">ğŸ’­ Add Quote</span><div class="spinner"></div></button></div></div>

<!-- MUSIC --><div class="page" id="pg-music"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸµ Music</span><button class="hdr-btn" onclick="nav('pg-as')">+ Add</button></div><div style="flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch"><div class="item-list" id="songList"></div></div><div class="player" id="mPlayer" style="display:none"><div class="player-title" id="pTitle">No song</div><div class="player-ctrls"><button class="p-btn" onclick="prevSong()">â®</button><button class="p-btn play" id="pPlay" onclick="togglePlay()">â–¶</button><button class="p-btn" onclick="nextSong()">â­</button></div><audio id="audioEl"></audio></div></div>
<!-- ADD SONG --><div class="page" id="pg-as"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸµ Add Song</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Title</span><input class="inp" type="text" id="asTitle" placeholder="song name" autocomplete="off"></div><div class="form-section"><span class="form-label">Artist</span><input class="inp" type="text" id="asArtist" placeholder="artist" autocomplete="off"></div><div class="form-section"><span class="form-label">Audio URL</span><input class="inp" type="url" id="asUrl" placeholder="https://...mp3" autocomplete="off"></div><button class="liquid-btn" style="width:100%" id="btnAS" onclick="addSong()"><span class="btn-text">ğŸµ Add Song</span><div class="spinner"></div></button></div></div>

<!-- MEMORIES --><div class="page" id="pg-memories"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ“¸ Memories</span><button class="hdr-btn" onclick="nav('pg-am')">+ Add</button></div><div class="pg-body"><div class="item-list" id="memList"></div></div></div>
<!-- ADD MEMORY --><div class="page" id="pg-am"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ“¸ Add Memory</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Mood</span><div class="mood-picker" id="mMoods"></div></div><div class="form-section"><span class="form-label">Date</span><input class="inp" type="date" id="amDate"></div><div class="form-section"><span class="form-label">Title</span><input class="inp" type="text" id="amTitle" placeholder="what happened?" autocomplete="off"></div><div class="form-section"><span class="form-label">Description</span><textarea class="inp" id="amDesc" placeholder="describe the moment..." style="min-height:140px"></textarea></div><button class="liquid-btn" style="width:100%" id="btnAM" onclick="addMemory()"><span class="btn-text">ğŸ“¸ Save Memory</span><div class="spinner"></div></button></div></div>

<!-- MEMES --><div class="page" id="pg-memes"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ˜‚ Memes</span><button class="hdr-btn" onclick="nav('pg-amm')">+ Add</button></div><div class="pg-body"><div class="item-list" id="memeList"></div></div></div>
<!-- ADD MEME --><div class="page" id="pg-amm"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸ˜‚ Add Meme</span></div><div class="pg-body"><div class="form-section"><span class="form-label">Image URL</span><input class="inp" type="url" id="ammUrl" placeholder="paste image link" autocomplete="off"></div><div class="form-section"><span class="form-label">Caption</span><input class="inp" type="text" id="ammCap" placeholder="optional" autocomplete="off"></div><button class="liquid-btn" style="width:100%" id="btnAMM" onclick="addMeme()"><span class="btn-text">ğŸ˜‚ Post Meme</span><div class="spinner"></div></button></div></div>

<!-- GAMES --><div class="page" id="pg-games"><div class="pg-header"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title gradient-txt">ğŸƒ Memory Game</span></div><div class="pg-body"><div class="game-hdr"><div class="game-score" id="gameScore">Moves: 0 | Matched: 0/8</div><div class="game-msg" id="gameMsg"></div><button class="liquid-btn" onclick="initGame()" style="padding:10px 24px;font-size:9px;margin-top:14px"><span class="btn-text">ğŸ”„ New Game</span></button></div><div class="game-board" id="gameBoard"></div></div></div>

<script src="/socket.io/socket.io.js"></script>
<script>
var socket=null,CU=null,CP='pg-splash',PH=[];var chatMsgs=[],chatLoaded=0,typTimer=null,partnerOn=0;var lTab='inbox',selLM='ğŸ’•',selCM='ğŸ’­',selMM='ğŸ’•';var songs=[],curSI=-1,isP=0;var gCards=[],gFlip=[],gMatch=[],gMoves=0,gLock=0;
var D=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var M=['January','February','March','April','May','June','July','August','September','October','November','December'];
var HQ=["Every love story is beautiful, but ours is my favorite","Some hearts understand each other even in silence","I choose you over and over","You are my today and all of my tomorrows","Together is my favorite place to be"];
var moods=['ğŸ’•','â¤ï¸','ğŸ¥°','ğŸ”¥','ğŸŒ™','ğŸ’Œ','ğŸ¤«','ğŸ˜˜','ğŸ’‹','ğŸ¦‹','âœ¨','ğŸ’«'];
var truths=[{q:"What's one thing you've never told me?",c:"Deep"},{q:"What was your first impression of me?",c:"Memory"},{q:"What's your favorite memory of us?",c:"Memory"},{q:"What do you love most about me?",c:"Love"},{q:"Have you ever dreamed about me?",c:"Dreams"},{q:"What song reminds you of us?",c:"Music"},{q:"What small thing I do makes you happy?",c:"Little Things"},{q:"If you could relive one moment with me?",c:"Memory"},{q:"What were you thinking in our first talk?",c:"Memory"},{q:"What's your favorite thing about my personality?",c:"Love"},{q:"What do you want us to do someday?",c:"Dreams"},{q:"When did you first realize your feelings?",c:"Love"},{q:"Most romantic thing you've imagined us doing?",c:"Dreams"},{q:"What makes us special as a couple?",c:"Love"},{q:"Written something about me you didn't share?",c:"Secret"},{q:"One fear you have about us?",c:"Deep"},{q:"Sweetest thing I've ever said to you?",c:"Memory"},{q:"Rate our first date 1-10?",c:"Memory"},{q:"What do you miss when we're apart?",c:"Love"},{q:"What nickname do you want me to call you?",c:"Flirty"},{q:"What always makes you smile about me?",c:"Love"},{q:"If we had a movie, what's the title?",c:"Fun"},{q:"My physical feature you find most attractive?",c:"Flirty"},{q:"Something you pretend not to notice but love?",c:"Little Things"},{q:"Describe your feelings in 3 words?",c:"Deep"}];
var dares=[{q:"Send me the most romantic text right now",c:"Romantic"},{q:"Say 3 things you love about me",c:"Love"},{q:"Write me a 4-line poem right now",c:"Creative"},{q:"Send your favorite photo of us with caption",c:"Memory"},{q:"Tell me something you've been holding back",c:"Deep"},{q:"Send a song that describes your feelings",c:"Music"},{q:"Give me 5 compliments without stopping",c:"Love"},{q:"Describe our perfect date in detail",c:"Dreams"},{q:"Write goodnight as if it's our last night",c:"Romantic"},{q:"Make up a love story about us in 5 lines",c:"Creative"},{q:"Write 'I love you' in 3 creative ways",c:"Creative"},{q:"Describe me without using my name",c:"Love"},{q:"Plan our next date, every detail",c:"Dreams"},{q:"Send the last photo in your gallery",c:"Fun"},{q:"Write a short love letter in chat now",c:"Romantic"},{q:"Tell me top 3 moments with me",c:"Memory"},{q:"Describe feelings using only emojis",c:"Fun"},{q:"Give me a new nickname for a week",c:"Flirty"},{q:"Confess something sweet in confession room",c:"Romantic"},{q:"Tell me which outfit of mine you like most",c:"Flirty"},{q:"Describe your dream future with me",c:"Dreams"},{q:"Say the cheesiest pickup line",c:"Fun"},{q:"Record how you say my name",c:"Romantic"},{q:"Share your lock screen",c:"Bold"},{q:"Sing our song via voice note",c:"Bold"}];

function nav(id,an,ah){an=an||'anim-slide';if(ah!==false)ah=true;if(CP===id)return;var o=document.getElementById(CP),p=document.getElementById(id);if(!p)return;if(ah)PH.push(CP);o.classList.remove('active','anim-slide','anim-fade','anim-scale');p.className='page active '+an;CP=id;if(id==='pg-chat')openChat();if(id==='pg-letters')loadLetters();if(id==='pg-confess')loadConf();if(id==='pg-quotes')loadQuotes();if(id==='pg-music')loadSongs();if(id==='pg-memories')loadMem();if(id==='pg-memes')loadMemes();if(id==='pg-games')initGame()}
function goBack(){if(!PH.length)return;var p=PH.pop(),o=document.getElementById(CP),n=document.getElementById(p);o.classList.remove('active','anim-slide','anim-fade','anim-scale');n.className='page active anim-fade';CP=p}
async function handleLogin(){var b=document.getElementById('btnLogin'),e=document.getElementById('loginError'),u=document.getElementById('inpUser').value.trim(),p=document.getElementById('inpPass').value.trim();e.textContent='';if(!u||!p){e.textContent='âš  enter both fields';shk();return}b.classList.add('loading');try{var r=await(await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:u,password:p})})).json();b.classList.remove('loading');if(r.success){CU=r.user;localStorage.setItem('tss_user',JSON.stringify(CU));setupHome();connectSocket();nav('pg-home','anim-scale')}else{e.textContent='âœ• '+r.message;shk()}}catch(x){b.classList.remove('loading');e.textContent='âš  signal lost...';shk()}}
function shk(){var c=document.getElementById('loginCard');c.classList.add('shake');setTimeout(function(){c.classList.remove('shake')},500)}
document.addEventListener('keydown',function(e){if(e.key==='Enter'&&CP==='pg-login')handleLogin()});
function handleLogout(){if(confirm('Disconnect?')){localStorage.removeItem('tss_user');CU=null;chatMsgs=[];chatLoaded=0;if(socket){socket.disconnect();socket=null}PH=[];nav('pg-login','anim-fade',false)}}
function setupHome(){if(!CU)return;var n=new Date(),h=n.getHours(),g='Good Evening',e='ğŸŒ†';if(h<5){g='Sweet Dreams';e='ğŸŒ™'}else if(h<12){g='Good Morning';e='ğŸŒ…'}else if(h<17){g='Good Afternoon';e='â˜€ï¸'}else if(h<21){g='Good Evening';e='ğŸŒ†'}else{g='Good Night';e='ğŸŒ™'}
document.getElementById('greetEmoji').textContent=e;document.getElementById('greetName').innerHTML=g+', <span>'+CU.displayName+'</span>';document.getElementById('greetDate').textContent=D[n.getDay()]+', '+n.getDate()+' '+M[n.getMonth()];document.getElementById('greetQuote').textContent='âœ¦ "'+HQ[Math.floor(Math.random()*HQ.length)]+'" âœ¦';document.getElementById('navAvatar').textContent=CU.username==='cavity'?'ğŸ¤´':'ğŸ‘¸';document.getElementById('dailyQuote').textContent='âœ¦ "'+HQ[Math.floor(Math.random()*HQ.length)]+'" âœ¦';
setTimeout(function(){var p=Math.floor(Math.random()*12)+88;document.getElementById('syncPct').textContent=p+'%';document.getElementById('syncBar').style.width=p+'%'},800);
checkUnread();checkLU();initMP('lMoods','l');initMP('cMoods','c');initMP('mMoods','m')}
function connectSocket(){if(socket)return;socket=io();socket.on('connect',function(){if(CU)socket.emit('user-online',CU.username)});
socket.on('online-status',function(u){partnerOn=u.indexOf(getP())!==-1;document.getElementById('statusDot').className='status-dot '+(partnerOn?'s-on':'s-off');document.getElementById('statusText').textContent=partnerOn?'online':'away';var d=document.getElementById('chatSD');if(d){d.className='status-dot '+(partnerOn?'s-on':'s-off');document.getElementById('chatST').textContent=partnerOn?'online':'offline'}});
socket.on('receive-message',function(m){chatMsgs.push(m);if(CP==='pg-chat'){appendMsg(m);scrollC();markRead()}else{checkUnread();playN()}});socket.on('message-sent',function(m){chatMsgs.push(m);if(CP==='pg-chat'){appendMsg(m);scrollC()}});
socket.on('partner-typing',function(v){var e=document.getElementById('typWrap');if(v){e.classList.add('show');scrollC()}else e.classList.remove('show')});
socket.on('partner-read',function(){document.querySelectorAll('.msg-chk').forEach(function(c){c.classList.add('read')})});
socket.on('new-letter',function(){if(CP!=='pg-letters')checkLU();else loadLetters();playN()});socket.on('new-confession',function(){if(CP==='pg-confess')loadConf()});
socket.on('new-meme',function(){if(CP==='pg-memes')loadMemes()});socket.on('new-memory',function(){if(CP==='pg-memories')loadMem()});socket.on('new-song',function(){if(CP==='pg-music')loadSongs()})}
function getP(){return CU.username==='cavity'?'cingam':'cavity'}function getPN(){return getP()==='cavity'?'Cavity':'Cingam'}
function openChat(){document.getElementById('chatName').textContent=getPN();document.getElementById('chatAv').textContent=getP()==='cavity'?'ğŸ¤´':'ğŸ‘¸';document.getElementById('chatSD').className='status-dot '+(partnerOn?'s-on':'s-off');document.getElementById('chatST').textContent=partnerOn?'online':'offline';if(!chatLoaded)loadCH();else{renderC();markRead()}var i=document.getElementById('chatInp');i.value='';i.oninput=hTyp;i.onkeydown=function(e){if(e.key==='Enter')sendMsg()};uSB()}
function leaveChat(){if(socket)socket.emit('stop-typing',{receiver:getP()});goBack()}
async function loadCH(){var c=document.getElementById('chatMsgs');c.innerHTML=ldH();try{var d=await(await fetch('/api/messages')).json();if(d.success){chatMsgs=d.messages;chatLoaded=1;renderC();markRead()}}catch(e){}}
function renderC(){var c=document.getElementById('chatMsgs');c.innerHTML='';if(!chatMsgs.length){c.innerHTML='<div class="chat-empty"><div class="chat-empty-icon">ğŸ’¬</div><div class="chat-empty-txt">No messages yet</div></div>';return}var ld='';chatMsgs.forEach(function(m){var d=new Date(m.timestamp),ds=fD(d);if(ds!==ld){addDS(c,ds);ld=ds}addME(c,m,0)});scrollC()}
function appendMsg(m){var c=document.getElementById('chatMsgs');var e=c.querySelector('.chat-empty');if(e)e.remove();var d=new Date(m.timestamp),ds=fD(d);var s=c.querySelectorAll('.msg-date');var l=s.length?s[s.length-1].textContent.trim():'';if(ds!==l)addDS(c,ds);addME(c,m,1)}
function addDS(c,s){var e=document.createElement('div');e.className='msg-date';e.innerHTML='<span>'+s+'</span>';c.appendChild(e)}
function addME(c,m,a){var s=m.sender===CU.username;var r=document.createElement('div');r.className='msg-row '+(s?'sent':'recv');if(!a)r.style.animation='none';var t=new Date(m.timestamp);r.innerHTML='<div class="msg-bub"><div class="msg-txt">'+esc(m.message)+'</div><div class="msg-time">'+pad(t.getHours())+':'+pad(t.getMinutes())+' '+(s?'<span class="msg-chk'+(m.read?' read':'')+'">âœ“âœ“</span>':'')+'</div></div>';c.appendChild(r)}
function scrollC(){var c=document.getElementById('chatMsgs');setTimeout(function(){c.scrollTop=c.scrollHeight},50)}
function sendMsg(){var i=document.getElementById('chatInp'),t=i.value.trim();if(!t||!socket)return;socket.emit('send-message',{sender:CU.username,receiver:getP(),message:t});i.value='';uSB();socket.emit('stop-typing',{receiver:getP()})}
function hTyp(){uSB();if(!socket)return;socket.emit('typing',{receiver:getP()});clearTimeout(typTimer);typTimer=setTimeout(function(){socket.emit('stop-typing',{receiver:getP()})},2000)}
function uSB(){var b=document.getElementById('chatSend');document.getElementById('chatInp').value.trim()?b.classList.remove('disabled'):b.classList.add('disabled')}
async function markRead(){try{await fetch('/api/messages/read',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:CU.username})});if(socket)socket.emit('messages-read',{sender:getP()});uBdg('chatBadge',0)}catch(e){}}
async function checkUnread(){try{var d=await(await fetch('/api/unread/'+CU.username)).json();if(d.success)uBdg('chatBadge',d.count)}catch(e){}}
function showWL(){nav('pg-wl');selLM='ğŸ’•';hMd('lMoods','ğŸ’•')}
async function loadLetters(){var l=document.getElementById('lList');l.innerHTML=ldH();try{var d=await(await fetch('/api/letters/'+CU.username)).json();if(d.success){var f=d.letters.filter(function(x){return lTab==='inbox'?x.receiver===CU.username:x.sender===CU.username});l.innerHTML='';if(!f.length){l.innerHTML='<div class="empty-state"><span class="empty-icon">ğŸ’Œ</span><div class="empty-txt">No letters</div></div>';return}f.forEach(function(x,i){var e=document.createElement('div');e.className='glass list-item'+(x.read?'':' item-unread');e.style.animationDelay=(i*.05)+'s';e.innerHTML='<span class="item-mood">'+x.mood+'</span><div class="item-title">'+esc(x.title||'Untitled')+'</div><div class="item-preview">'+esc(x.content)+'</div><div class="item-meta">'+(lTab==='inbox'?'from '+x.sender:'to '+x.receiver)+' Â· '+tAgo(x.timestamp)+'</div>'+(lTab==='inbox'&&!x.read?'<div class="item-dot"></div>':'');e.onclick=function(){openL(x)};l.appendChild(e)})}}catch(e){}}
function switchLT(t){lTab=t;document.getElementById('ltIn').classList.toggle('active',t==='inbox');document.getElementById('ltSent').classList.toggle('active',t==='sent');loadLetters()}
function openL(l){nav('pg-rl');document.getElementById('rlBody').innerHTML='<span class="rl-mood">'+l.mood+'</span><div class="rl-title">'+esc(l.title||'Untitled')+'</div><div class="rl-from">'+(l.sender===CU.username?'by you':'from '+l.sender)+' Â· '+fDT(l.timestamp)+'</div><div class="rl-body glass top-glow">'+esc(l.content)+'</div>';if(!l.read&&l.receiver===CU.username)fetch('/api/letters/open',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:l._id})})}
async function sendLetter(){var b=document.getElementById('btnSL'),c=document.getElementById('lContent').value.trim();if(!c){alert('Write something!');return}b.classList.add('loading');try{var d=await(await fetch('/api/letters',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sender:CU.username,receiver:getP(),title:document.getElementById('lTitle').value.trim()||'Untitled',content:c,mood:selLM})})).json();b.classList.remove('loading');if(d.success){if(socket)socket.emit('letter-sent',{receiver:getP()});document.getElementById('lTitle').value='';document.getElementById('lContent').value='';goBack()}}catch(e){b.classList.remove('loading')}}
async function checkLU(){try{var d=await(await fetch('/api/letters/unread/'+CU.username)).json();if(d.success)uBdg('letterBadge',d.count)}catch(e){}}
function showWC(){nav('pg-wc');selCM='ğŸ’­';hMd('cMoods','ğŸ’­')}
async function loadConf(){var l=document.getElementById('confList');l.innerHTML=ldH();try{var d=await(await fetch('/api/confessions')).json();if(d.success){l.innerHTML='';if(!d.confessions.length){l.innerHTML='<div class="empty-state"><span class="empty-icon">ğŸ¤«</span><div class="empty-txt">No confessions</div></div>';return}d.confessions.forEach(function(c,i){var e=document.createElement('div');e.className='glass list-item';e.style.animationDelay=(i*.05)+'s';var h=c.heartedBy&&c.heartedBy.indexOf(CU.username)!==-1;e.innerHTML='<span class="item-mood">'+c.mood+'</span><div class="item-preview" style="white-space:normal;max-width:100%">'+esc(c.content)+'</div><div class="item-footer"><span class="item-meta" style="margin:0">'+c.author+' Â· '+tAgo(c.timestamp)+'</span><button class="heart-btn'+(h?' hearted':'')+'" onclick="event.stopPropagation();hConf(\''+c._id+'\',this)">â™¡ <span>'+c.hearts+'</span></button></div>';l.appendChild(e)})}}catch(e){}}
async function postConf(){var b=document.getElementById('btnPC'),c=document.getElementById('cContent').value.trim();if(!c){alert('Write something!');return}b.classList.add('loading');try{await fetch('/api/confessions',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({author:CU.displayName,content:c,mood:selCM})});b.classList.remove('loading');if(socket)socket.emit('confession-posted');document.getElementById('cContent').value='';goBack()}catch(e){b.classList.remove('loading')}}
async function hConf(id,b){try{var d=await(await fetch('/api/confessions/heart',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id,username:CU.username})})).json();if(d.success){b.querySelector('span').textContent=d.hearts;b.classList.toggle('hearted',d.hearted)}}catch(e){}}
function getTod(t){var c=document.getElementById('todCard');c.classList.remove('tod-flip');void c.offsetWidth;c.classList.add('tod-flip');var iT=t==='truth'||(t==='random'&&Math.random()>.5);var pool=iT?truths:dares,item=pool[Math.floor(Math.random()*pool.length)];setTimeout(function(){document.getElementById('todEmoji').textContent=iT?'ğŸŸ¢':'ğŸ”´';document.getElementById('todType').textContent=iT?'Truth':'Dare';document.getElementById('todType').className='tod-type '+(iT?'truth':'dare');document.getElementById('todQ').textContent=item.q;document.getElementById('todCat').textContent='âŒ˜ '+item.c},250)}
async function loadQuotes(){var l=document.getElementById('qList');l.innerHTML=ldH();try{var d=await(await fetch('/api/quotes')).json();if(d.success){l.innerHTML='';d.quotes.forEach(function(q,i){var h=q.heartedBy&&q.heartedBy.indexOf(CU.username)!==-1;var e=document.createElement('div');e.className='glass qt-item list-item';e.style.animationDelay=(i*.04)+'s';e.innerHTML='<span class="qt-mark">"</span><div class="qt-text">'+esc(q.quote)+'</div>'+(q.author?'<div class="qt-auth">â€” '+esc(q.author)+'</div>':'')+'<div class="qt-foot">'+(q.addedBy!=='system'?'<span class="item-meta" style="margin:0">by '+q.addedBy+'</span>':'<span></span>')+'<button class="heart-btn'+(h?' hearted':'')+'" onclick="event.stopPropagation();hQt(\''+q._id+'\',this)">â™¡ <span>'+q.hearts+'</span></button></div>';l.appendChild(e)})}}catch(e){}}
async function addQuote(){var b=document.getElementById('btnAQ'),t=document.getElementById('aqText').value.trim();if(!t){alert('Write a quote!');return}b.classList.add('loading');try{await fetch('/api/quotes',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({addedBy:CU.displayName,quote:t,author:document.getElementById('aqAuth').value.trim()})});b.classList.remove('loading');document.getElementById('aqText').value='';document.getElementById('aqAuth').value='';goBack()}catch(e){b.classList.remove('loading')}}
async function hQt(id,b){try{var d=await(await fetch('/api/quotes/heart',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id,username:CU.username})})).json();if(d.success){b.querySelector('span').textContent=d.hearts;b.classList.toggle('hearted',d.hearted)}}catch(e){}}
async function loadSongs(){var l=document.getElementById('songList');l.innerHTML=ldH();try{var d=await(await fetch('/api/songs')).json();if(d.success){songs=d.songs;l.innerHTML='';if(!songs.length){l.innerHTML='<div class="empty-state"><span class="empty-icon">ğŸµ</span><div class="empty-txt">No songs yet</div></div>';document.getElementById('mPlayer').style.display='none';return}document.getElementById('mPlayer').style.display='block';songs.forEach(function(s,i){var e=document.createElement('div');e.className='glass song-item list-item';e.style.animationDelay=(i*.04)+'s';e.innerHTML='<span class="song-icon">ğŸµ</span><div class="song-info"><div class="song-title">'+esc(s.title)+'</div><div class="song-artist">'+(s.artist?esc(s.artist):'Unknown')+'</div></div><button class="song-del" onclick="event.stopPropagation();delSong(\''+s._id+'\')">âœ•</button>';e.onclick=function(){playSong(i)};l.appendChild(e)})}}catch(e){}}
async function addSong(){var b=document.getElementById('btnAS'),t=document.getElementById('asTitle').value.trim(),u=document.getElementById('asUrl').value.trim();if(!t||!u){alert('Title and URL needed!');return}b.classList.add('loading');try{await fetch('/api/songs',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:t,artist:document.getElementById('asArtist').value.trim(),url:u,addedBy:CU.username})});b.classList.remove('loading');document.getElementById('asTitle').value='';document.getElementById('asArtist').value='';document.getElementById('asUrl').value='';if(socket)socket.emit('song-added');goBack()}catch(e){b.classList.remove('loading')}}
async function delSong(id){if(!confirm('Delete?'))return;try{await fetch('/api/songs/'+id,{method:'DELETE'});loadSongs()}catch(e){}}
function playSong(i){curSI=i;var s=songs[i];document.getElementById('pTitle').textContent=s.title;var a=document.getElementById('audioEl');a.src=s.url;a.play();isP=1;document.getElementById('pPlay').textContent='â¸'}
function togglePlay(){var a=document.getElementById('audioEl');if(isP){a.pause();isP=0;document.getElementById('pPlay').textContent='â–¶'}else{a.play();isP=1;document.getElementById('pPlay').textContent='â¸'}}
function nextSong(){if(!songs.length)return;curSI=(curSI+1)%songs.length;playSong(curSI)}
function prevSong(){if(!songs.length)return;curSI=(curSI-1+songs.length)%songs.length;playSong(curSI)}
async function loadMem(){var l=document.getElementById('memList');l.innerHTML=ldH();try{var d=await(await fetch('/api/memories')).json();if(d.success){l.innerHTML='';if(!d.memories.length){l.innerHTML='<div class="empty-state"><span class="empty-icon">ğŸ“¸</span><div class="empty-txt">No memories yet</div></div>';return}d.memories.forEach(function(m,i){var e=document.createElement('div');e.className='glass mem-item list-item';e.style.animationDelay=(i*.05)+'s';e.innerHTML='<span class="mem-mood">'+m.mood+'</span><div class="mem-date">'+m.date+'</div><div class="mem-title">'+esc(m.title)+'</div><div class="mem-desc">'+esc(m.description)+'</div><div class="mem-by">by '+m.addedBy+'</div>';l.appendChild(e)})}}catch(e){}}
async function addMemory(){var b=document.getElementById('btnAM'),t=document.getElementById('amTitle').value.trim(),d=document.getElementById('amDesc').value.trim();if(!t||!d){alert('Fill title & description!');return}b.classList.add('loading');try{await fetch('/api/memories',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:t,description:d,date:document.getElementById('amDate').value||new Date().toISOString().split('T')[0],mood:selMM,addedBy:CU.displayName})});b.classList.remove('loading');document.getElementById('amTitle').value='';document.getElementById('amDesc').value='';if(socket)socket.emit('memory-posted');goBack()}catch(e){b.classList.remove('loading')}}
async function loadMemes(){var l=document.getElementById('memeList');l.innerHTML=ldH();try{var d=await(await fetch('/api/memes')).json();if(d.success){l.innerHTML='';if(!d.memes.length){l.innerHTML='<div class="empty-state"><span class="empty-icon">ğŸ˜‚</span><div class="empty-txt">No memes yet</div></div>';return}d.memes.forEach(function(m,i){var h=m.heartedBy&&m.heartedBy.indexOf(CU.username)!==-1;var e=document.createElement('div');e.className='glass meme-item list-item';e.style.animationDelay=(i*.04)+'s';e.innerHTML='<img class="meme-img" src="'+esc(m.imageUrl)+'" onerror="this.style.display=\'none\'" loading="lazy">'+(m.caption?'<div class="meme-cap">'+esc(m.caption)+'</div>':'')+'<div class="item-footer"><span class="item-meta" style="margin:0">'+m.addedBy+' Â· '+tAgo(m.timestamp)+'</span><button class="heart-btn'+(h?' hearted':'')+'" onclick="event.stopPropagation();hMeme(\''+m._id+'\',this)">â™¡ <span>'+m.hearts+'</span></button></div>';l.appendChild(e)})}}catch(e){}}
async function addMeme(){var b=document.getElementById('btnAMM'),u=document.getElementById('ammUrl').value.trim();if(!u){alert('Paste image URL!');return}b.classList.add('loading');try{await fetch('/api/memes',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({imageUrl:u,caption:document.getElementById('ammCap').value.trim(),addedBy:CU.displayName})});b.classList.remove('loading');document.getElementById('ammUrl').value='';document.getElementById('ammCap').value='';if(socket)socket.emit('meme-posted');goBack()}catch(e){b.classList.remove('loading')}}
async function hMeme(id,b){try{var d=await(await fetch('/api/memes/heart',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id,username:CU.username})})).json();if(d.success){b.querySelector('span').textContent=d.hearts;b.classList.toggle('hearted',d.hearted)}}catch(e){}}
function initGame(){var em=['ğŸ’•','ğŸ’–','ğŸ¦‹','ğŸŒ¹','ğŸ’«','âœ¨','ğŸ”¥','ğŸ’‹'];var dk=em.concat(em);dk.sort(function(){return Math.random()-.5});gCards=dk;gFlip=[];gMatch=[];gMoves=0;gLock=0;document.getElementById('gameScore').textContent='Moves: 0 | Matched: 0/8';document.getElementById('gameMsg').textContent='';var b=document.getElementById('gameBoard');b.innerHTML='';dk.forEach(function(c,i){var e=document.createElement('div');e.className='game-card';e.innerHTML='<span class="cf">'+c+'</span><span class="cb">ğŸ¤«</span>';e.onclick=function(){flipCard(i,e)};b.appendChild(e)})}
function flipCard(i,el){if(gLock||gFlip.length>=2||el.classList.contains('flipped')||el.classList.contains('matched'))return;el.classList.add('flipped');gFlip.push({idx:i,el:el});if(gFlip.length===2){gMoves++;document.getElementById('gameScore').textContent='Moves: '+gMoves+' | Matched: '+gMatch.length+'/8';if(gCards[gFlip[0].idx]===gCards[gFlip[1].idx]){gFlip[0].el.classList.add('matched');gFlip[1].el.classList.add('matched');gMatch.push(gCards[gFlip[0].idx]);gFlip=[];document.getElementById('gameScore').textContent='Moves: '+gMoves+' | Matched: '+gMatch.length+'/8';if(gMatch.length===8)document.getElementById('gameMsg').textContent='ğŸ‰ Perfect! '+gMoves+' moves!'}else{gLock=1;setTimeout(function(){gFlip[0].el.classList.remove('flipped');gFlip[1].el.classList.remove('flipped');gFlip=[];gLock=0},800)}}}
function initMP(id,t){var c=document.getElementById(id);c.innerHTML='';moods.forEach(function(m){var e=document.createElement('div');e.className='mood-opt'+(m===(t==='l'?selLM:t==='c'?selCM:selMM)?' sel':'');e.textContent=m;e.onclick=function(){if(t==='l')selLM=m;else if(t==='c')selCM=m;else selMM=m;hMd(id,m)};c.appendChild(e)})}
function hMd(id,m){document.querySelectorAll('#'+id+' .mood-opt').forEach(function(e){e.classList.toggle('sel',e.textContent===m)})}
function uBdg(id,n){var b=document.getElementById(id);if(!b)return;if(n>0){b.textContent=n>9?'9+':n;b.style.display='flex'}else b.style.display='none'}
function fD(d){var t=new Date(),y=new Date(t);y.setDate(y.getDate()-1);if(d.toDateString()===t.toDateString())return'Today';if(d.toDateString()===y.toDateString())return'Yesterday';return d.getDate()+' '+M[d.getMonth()]}
function fDT(ts){var d=new Date(ts);return d.getDate()+' '+M[d.getMonth()]+', '+pad(d.getHours())+':'+pad(d.getMinutes())}
function tAgo(ts){var d=Date.now()-new Date(ts).getTime(),m=Math.floor(d/60000);if(m<1)return'now';if(m<60)return m+'m';var h=Math.floor(m/60);if(h<24)return h+'h';return Math.floor(h/24)+'d'}
function pad(n){return n<10?'0'+n:''+n}
function esc(t){var d=document.createElement('div');d.textContent=t;return d.innerHTML}
function ldH(){return'<div style="text-align:center;padding:50px"><div class="sp-dots" style="animation:none;margin:0 auto"><div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div></div></div>'}
function playN(){try{var c=new(window.AudioContext||window.webkitAudioContext)(),o=c.createOscillator(),g=c.createGain();o.connect(g);g.connect(c.destination);o.frequency.value=880;o.type='sine';g.gain.setValueAtTime(.08,c.currentTime);g.gain.exponentialRampToValueAtTime(.001,c.currentTime+.4);o.start(c.currentTime);o.stop(c.currentTime+.4);var o2=c.createOscillator(),g2=c.createGain();o2.connect(g2);g2.connect(c.destination);o2.frequency.value=1100;o2.type='sine';g2.gain.setValueAtTime(.06,c.currentTime+.15);g2.gain.exponentialRampToValueAtTime(.001,c.currentTime+.5);o2.start(c.currentTime+.15);o2.stop(c.currentTime+.5)}catch(e){}}
function startPtc(){var c=document.getElementById('ptcBg');var h=['ğŸ’•','ğŸ’–','â™¡','â™¥','ğŸ’—','âœ¦','â‹†','âœ§','ğŸ’«','â­'];function mk(){var e=document.createElement('div'),r=Math.random();if(r<.3){e.className='ptc ptc-heart';e.textContent=h[Math.floor(Math.random()*5)];e.style.fontSize=(Math.random()*14+8)+'px'}else if(r<.55){e.className='ptc ptc-sparkle';var s=Math.random()*3+1.5;e.style.width=s+'px';e.style.height=s+'px'}else if(r<.8){e.className='ptc ptc-star';e.textContent=h[5+Math.floor(Math.random()*5)];e.style.fontSize=(Math.random()*10+5)+'px';e.style.color='rgba(255,20,147,'+(Math.random()*.35+.1)+')'}else{e.className='ptc ptc-glow';var s2=Math.random()*4+2;e.style.width=s2+'px';e.style.height=s2+'px'}e.style.left=Math.random()*100+'vw';e.style.animationDuration=(Math.random()*12+10)+'s';e.style.animationDelay=Math.random()*4+'s';c.appendChild(e);setTimeout(function(){e.remove()},26000)}for(var i=0;i<15;i++)setTimeout(mk,i*180);setInterval(mk,1200)}
document.addEventListener('touchstart',function(e){var t=e.target.closest('.feat-card,.liquid-btn,.btn-back,.quick-btn,.nav-avatar,.chat-send,.tod-btn,.tab,.list-item,.hdr-btn,.mood-opt,.heart-btn,.song-item,.p-btn,.game-card');if(!t)return;var r=t.getBoundingClientRect(),tc=e.touches[0],rp=document.createElement('div');rp.className='ripple';var sz=Math.max(r.width,r.height)*2.5;rp.style.width=rp.style.height=sz+'px';rp.style.left=(tc.clientX-r.left-sz/2)+'px';rp.style.top=(tc.clientY-r.top-sz/2)+'px';t.style.position=t.style.position||'relative';t.appendChild(rp);setTimeout(function(){rp.remove()},650)},{passive:true});
function init(){startPtc();var s=localStorage.getItem('tss_user');setTimeout(function(){if(s){try{CU=JSON.parse(s);setupHome();connectSocket();nav('pg-home','anim-scale',false)}catch(e){localStorage.removeItem('tss_user');nav('pg-login','anim-fade',false)}}else nav('pg-login','anim-fade',false)},3000)}
init();
</script>
</body>
</html>
