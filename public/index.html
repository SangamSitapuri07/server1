<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<title>The Silent Signal</title>
<style>
:root {
    --bg: #08060f;
    --bg2: #0d0a18;
    --surface: rgba(255,255,255,0.04);
    --glass: rgba(255,255,255,0.06);
    --glass-b: rgba(255,255,255,0.08);
    --pink: #FF1493;
    --rose: #E91E63;
    --purple: #A855F7;
    --violet: #7C3AED;
    --hot: #FF006E;
    --glow-pink: rgba(255,20,147,0.4);
    --glow-purp: rgba(168,85,247,0.3);
}

* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent }
html, body {
    width:100%; height:100%; overflow:hidden;
    font-family:'Poppins',sans-serif; background:var(--bg);
    color:#fff; user-select:none;
}

/* â•â•â• DARK AURORA â•â•â• */
.aurora {
    position:fixed; inset:0; z-index:0;
    background:linear-gradient(-45deg, #0a0015, #12062e, #1a0028, #08001a, #0d0020, #15002a);
    background-size:400% 400%;
    animation:auroraShift 20s ease infinite;
}
.aurora::before {
    content:''; position:absolute; width:80vw; height:80vw; border-radius:50%;
    background:radial-gradient(circle, rgba(168,85,247,0.12), transparent 65%);
    top:-30%; right:-30%; animation:orbDrift 14s ease-in-out infinite;
}
.aurora::after {
    content:''; position:absolute; width:65vw; height:65vw; border-radius:50%;
    background:radial-gradient(circle, rgba(255,20,147,0.1), transparent 65%);
    bottom:-25%; left:-25%; animation:orbDrift 18s ease-in-out infinite reverse;
}
@keyframes auroraShift {
    0%{background-position:0% 50%} 25%{background-position:50% 0%}
    50%{background-position:100% 50%} 75%{background-position:50% 100%} 100%{background-position:0% 50%}
}
@keyframes orbDrift {
    0%,100%{transform:translate(0,0) scale(1)}
    33%{transform:translate(5%,-5%) scale(1.1)}
    66%{transform:translate(-3%,3%) scale(0.92)}
}

/* â•â•â• PARTICLES â•â•â• */
.particles {
    position:fixed; inset:0; z-index:1; pointer-events:none; overflow:hidden;
}
.particle {
    position:absolute; border-radius:50%;
    animation:particleFloat linear infinite; opacity:0;
}
.particle.dot {
    background:rgba(255,20,147,0.5);
    box-shadow:0 0 6px rgba(255,20,147,0.3);
}
.particle.heart { filter:drop-shadow(0 0 4px rgba(255,20,147,0.3)); }
@keyframes particleFloat {
    0% { transform:translateY(105vh) scale(0); opacity:0; }
    5% { opacity:0.6; transform:translateY(95vh) scale(1); }
    50% { opacity:0.3; }
    100% { transform:translateY(-5vh) scale(0.3); opacity:0; }
}

/* â•â•â• PAGE SYSTEM â•â•â• */
.page {
    position:fixed; inset:0; display:none; flex-direction:column; z-index:10; overflow:hidden;
}
.page.active { display:flex; }
.page.anim-slide { animation:pgSlide .4s cubic-bezier(.16,1,.3,1); }
.page.anim-fade { animation:pgFade .35s ease; }
.page.anim-scale { animation:pgScale .45s cubic-bezier(.16,1,.3,1); }
@keyframes pgSlide { from{transform:translateX(100%);opacity:0} to{transform:translateX(0);opacity:1} }
@keyframes pgFade { from{opacity:0} to{opacity:1} }
@keyframes pgScale { from{transform:scale(.92);opacity:0;filter:blur(8px)} to{transform:scale(1);opacity:1;filter:blur(0)} }

/* â•â•â• GLASS â•â•â• */
.glass {
    background:var(--glass); backdrop-filter:blur(30px); -webkit-backdrop-filter:blur(30px);
    border:1px solid var(--glass-b);
    box-shadow:0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.04);
}

/* â•â•â• SPLASH â•â•â• */
#pg-splash {
    justify-content:center; align-items:center;
    background:radial-gradient(ellipse at 50% 40%, #1a0030, #08060f 70%);
}
.sp-glow {
    position:absolute; width:200px; height:200px; border-radius:50%;
    background:radial-gradient(circle, rgba(255,20,147,0.15), transparent 70%);
    animation:spGlowPulse 3s ease-in-out infinite;
}
.sp-glow2 {
    width:280px; height:280px;
    background:radial-gradient(circle, rgba(168,85,247,0.1), transparent 70%);
    animation-delay:1.5s;
}
@keyframes spGlowPulse {
    0%,100%{transform:scale(1);opacity:.5} 50%{transform:scale(1.4);opacity:.8}
}
.sp-ring {
    position:absolute; width:120px; height:120px; border-radius:50%;
    border:1.5px solid rgba(255,20,147,0.2);
    animation:ringExpand 3s ease-out infinite;
}
.sp-ring:nth-child(2) { animation-delay:1s; }
.sp-ring:nth-child(3) { animation-delay:2s; width:80px; height:80px; border-color:rgba(168,85,247,0.15); }
@keyframes ringExpand {
    0%{transform:scale(.5);opacity:.8} 100%{transform:scale(3.5);opacity:0}
}
.sp-icon {
    font-size:70px; z-index:2;
    animation:spIconPulse 2s ease-in-out infinite;
    filter:drop-shadow(0 0 30px rgba(255,20,147,0.5)) drop-shadow(0 0 60px rgba(168,85,247,0.3));
}
@keyframes spIconPulse {
    0%,100%{transform:scale(1)} 30%{transform:scale(1.15)} 60%{transform:scale(1.05)}
}
.sp-title {
    font-size:22px; font-weight:800; letter-spacing:6px; margin-top:28px;
    background:linear-gradient(135deg,#FF1493,#A855F7,#FF1493);
    background-size:200% 200%; -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    background-clip:text; animation:gradText 4s ease infinite, txtUp 1s ease .3s both;
    text-transform:uppercase;
}
@keyframes gradText {
    0%,100%{background-position:0% 50%} 50%{background-position:100% 50%}
}
@keyframes txtUp { from{opacity:0;transform:translateY(20px);filter:blur(8px)} to{opacity:1;transform:translateY(0);filter:blur(0)} }
.sp-line {
    width:60px; height:2px; margin-top:14px;
    background:linear-gradient(90deg,transparent,var(--pink),transparent);
    animation:txtUp 1s ease .6s both;
}
.sp-sub {
    color:rgba(255,255,255,.35); font-size:11px; letter-spacing:4px; margin-top:12px;
    text-transform:uppercase; animation:txtUp 1s ease .9s both;
}
.sp-dots {
    display:flex; gap:8px; margin-top:45px; animation:txtUp 1s ease 1.2s both;
}
.sp-dot {
    width:6px; height:6px; border-radius:50%; background:var(--pink);
    box-shadow:0 0 10px var(--glow-pink);
    animation:dotPulse 1.6s ease-in-out infinite;
}
.sp-dot:nth-child(2){animation-delay:.2s} .sp-dot:nth-child(3){animation-delay:.4s}
@keyframes dotPulse { 0%,100%{opacity:.2;transform:scale(.8)} 50%{opacity:1;transform:scale(1.3)} }

/* â•â•â• LOGIN â•â•â• */
#pg-login {
    justify-content:center; align-items:center; padding:24px;
}
.login-card {
    width:100%; max-width:360px; border-radius:28px; padding:40px 28px;
    text-align:center; animation:pgScale .6s cubic-bezier(.16,1,.3,1);
    position:relative; overflow:hidden;
}
.login-card::before {
    content:''; position:absolute; top:-1px; left:30%; right:30%; height:2px;
    background:linear-gradient(90deg,transparent,var(--pink),var(--purple),transparent);
}
.login-icon {
    font-size:48px; margin-bottom:8px;
    animation:loginIconFloat 4s ease-in-out infinite;
    filter:drop-shadow(0 0 20px rgba(255,20,147,0.3));
}
@keyframes loginIconFloat {
    0%,100%{transform:translateY(0) rotate(0)} 50%{transform:translateY(-8px) rotate(3deg)}
}
.login-title {
    font-size:20px; font-weight:700; letter-spacing:3px; text-transform:uppercase;
    background:linear-gradient(135deg,#FF1493,#A855F7);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.login-sub {
    font-size:12px; color:rgba(255,255,255,.35); margin-top:4px; margin-bottom:32px;
    letter-spacing:1px;
}

.inp-wrap { position:relative; margin-bottom:16px; text-align:left; }
.inp-icon {
    position:absolute; left:16px; top:50%; transform:translateY(-50%);
    font-size:16px; z-index:2; transition:all .3s; opacity:.5;
}
.inp-field {
    width:100%; padding:15px 16px 15px 48px; border-radius:14px;
    border:1.5px solid rgba(255,255,255,.06);
    background:rgba(255,255,255,.03); color:#fff;
    font-family:'Poppins',sans-serif; font-size:14px; font-weight:400;
    outline:none; transition:all .4s cubic-bezier(.4,0,.2,1);
}
.inp-field:focus {
    background:rgba(255,255,255,.06);
    border-color:rgba(255,20,147,.4);
    box-shadow:0 0 0 3px rgba(255,20,147,.08), 0 0 20px rgba(255,20,147,.06);
}
.inp-field:focus ~ .inp-icon { opacity:1; transform:translateY(-50%) scale(1.1); }
.inp-field::placeholder { color:rgba(255,255,255,.2); font-weight:300; }

.btn {
    width:100%; padding:15px; border:none; border-radius:14px;
    font-family:'Poppins',sans-serif; font-size:15px; font-weight:600;
    cursor:pointer; position:relative; overflow:hidden;
    transition:all .3s; margin-top:10px; letter-spacing:1px;
}
.btn-primary {
    background:linear-gradient(135deg,var(--pink),var(--purple));
    color:#fff;
    box-shadow:0 4px 20px rgba(255,20,147,.25), 0 0 40px rgba(255,20,147,.08);
}
.btn-primary::before {
    content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
    background:linear-gradient(45deg,transparent 42%,rgba(255,255,255,.08) 48%,
    rgba(255,255,255,.15) 50%,rgba(255,255,255,.08) 52%,transparent 58%);
    animation:btnShine 4s infinite;
}
@keyframes btnShine { 0%{transform:translateX(-100%) rotate(25deg)} 100%{transform:translateX(100%) rotate(25deg)} }
.btn:active { transform:scale(.97); }
.btn.loading { pointer-events:none; opacity:.7; }
.btn.loading .btn-text { visibility:hidden; }
.btn.loading::after {
    content:''; position:absolute; width:20px; height:20px;
    border:2.5px solid rgba(255,255,255,.2); border-top-color:#fff;
    border-radius:50%; animation:spin .7s linear infinite;
    top:50%; left:50%; margin:-10px 0 0 -10px;
}
@keyframes spin { to{transform:rotate(360deg)} }
.login-error {
    color:#FF6B9D; font-size:12px; margin-top:14px; min-height:18px;
    font-weight:500; transition:all .3s;
}
.shake { animation:shakeIt .5s cubic-bezier(.36,.07,.19,.97); }
@keyframes shakeIt {
    10%,90%{transform:translateX(-3px)} 20%,80%{transform:translateX(5px)}
    30%,50%,70%{transform:translateX(-7px)} 40%,60%{transform:translateX(7px)}
}

/* â•â•â• HEADER â•â•â• */
.pg-header {
    display:flex; align-items:center; gap:14px;
    padding:16px 20px; padding-top:max(16px,env(safe-area-inset-top));
    min-height:60px; z-index:5;
    border-bottom:1px solid rgba(255,255,255,.04);
}
.btn-back {
    width:40px; height:40px; border-radius:12px; border:none;
    background:rgba(255,255,255,.06); color:#fff; font-size:18px;
    cursor:pointer; display:flex; align-items:center; justify-content:center;
    transition:all .25s; border:1px solid rgba(255,255,255,.06);
}
.btn-back:active { transform:scale(.88); background:rgba(255,255,255,.12); }
.pg-title {
    font-size:16px; font-weight:600; letter-spacing:.5px;
    background:linear-gradient(135deg,#fff,rgba(255,255,255,.7));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.pg-body { flex:1; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch; padding:20px; }

/* â•â•â• HOME â•â•â• */
.home-scroll { flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; padding:20px 18px 40px; }

.greeting-wrap {
    border-radius:24px; padding:28px 20px; text-align:center; margin-bottom:28px;
    position:relative; overflow:hidden;
    animation:pgScale .5s cubic-bezier(.16,1,.3,1);
}
.greeting-wrap::before {
    content:''; position:absolute; inset:0;
    background:linear-gradient(135deg,rgba(255,20,147,.06),rgba(168,85,247,.04));
    pointer-events:none;
}
.greeting-wrap::after {
    content:''; position:absolute; top:-1px; left:20%; right:20%; height:1px;
    background:linear-gradient(90deg,transparent,rgba(255,20,147,.3),transparent);
    pointer-events:none;
}
.greet-emoji {
    font-size:48px; display:block;
    animation:greetFloat 5s ease-in-out infinite;
    filter:drop-shadow(0 0 15px rgba(255,20,147,.2));
}
@keyframes greetFloat { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
.greet-text {
    font-size:22px; font-weight:700; margin-top:10px;
    background:linear-gradient(135deg,#fff,rgba(255,255,255,.8));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.greet-sub {
    color:rgba(255,255,255,.4); font-size:12px; margin-top:6px; font-weight:300;
}
.greet-status {
    margin-top:10px; font-size:11px; font-weight:500;
}
.online-dot {
    display:inline-block; width:7px; height:7px; border-radius:50%;
    margin-right:5px; box-shadow:0 0 8px currentColor;
}
.dot-on { color:#4ADE80; } .dot-off { color:#FF6B9D; }
.greet-quote {
    color:rgba(255,255,255,.25); font-size:11px; margin-top:14px;
    font-style:italic; line-height:1.6; padding:0 10px;
}

.sect-title {
    color:rgba(255,255,255,.25); font-size:10px; font-weight:700; letter-spacing:4px;
    text-transform:uppercase; text-align:center; margin-bottom:18px;
}

/* â•â•â• FEATURE GRID â•â•â• */
.feat-grid {
    display:grid; grid-template-columns:repeat(3,1fr); gap:14px;
    max-width:420px; margin:0 auto;
}
.feat-card {
    aspect-ratio:1; border-radius:20px; display:flex; flex-direction:column;
    align-items:center; justify-content:center; cursor:pointer;
    position:relative; overflow:hidden;
    border:1px solid rgba(255,255,255,.06);
    transition:all .3s cubic-bezier(.4,0,.2,1);
}
.feat-card::before {
    content:''; position:absolute; inset:0; border-radius:inherit;
    background:radial-gradient(circle at 30% 20%, rgba(255,255,255,.08), transparent 50%);
    pointer-events:none;
}
.feat-card::after {
    content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
    background:linear-gradient(45deg,transparent 40%,rgba(255,255,255,.04) 45%,
    rgba(255,255,255,.1) 50%,rgba(255,255,255,.04) 55%,transparent 60%);
    animation:cardShine 6s infinite; pointer-events:none;
}
@keyframes cardShine { 0%{transform:translateX(-120%) rotate(30deg)} 100%{transform:translateX(120%) rotate(30deg)} }
.feat-card:active { transform:scale(.9); filter:brightness(1.2); }
.feat-icon {
    font-size:32px; margin-bottom:8px;
    filter:drop-shadow(0 2px 8px rgba(0,0,0,.3));
    transition:transform .3s;
}
.feat-card:active .feat-icon { transform:scale(1.2) rotate(-8deg); }
.feat-name {
    font-size:9px; font-weight:700; color:rgba(255,255,255,.85);
    letter-spacing:1px; text-transform:uppercase;
    text-shadow:0 1px 4px rgba(0,0,0,.3);
}

/* Stagger */
.feat-card { opacity:0; animation:cardIn .5s cubic-bezier(.16,1,.3,1) forwards; }
.feat-card:nth-child(1){animation-delay:.05s} .feat-card:nth-child(2){animation-delay:.1s}
.feat-card:nth-child(3){animation-delay:.15s} .feat-card:nth-child(4){animation-delay:.22s}
.feat-card:nth-child(5){animation-delay:.29s} .feat-card:nth-child(6){animation-delay:.36s}
.feat-card:nth-child(7){animation-delay:.43s} .feat-card:nth-child(8){animation-delay:.5s}
.feat-card:nth-child(9){animation-delay:.57s}
@keyframes cardIn { from{opacity:0;transform:scale(.7) translateY(25px)} to{opacity:1;transform:scale(1) translateY(0)} }

/* Dark gradient cards */
.fc1{background:linear-gradient(135deg,#4a1942,#2d1b4e)} .fc2{background:linear-gradient(135deg,#1a1a4e,#2d1458)}
.fc3{background:linear-gradient(135deg,#3d1f3d,#1f1040)} .fc4{background:linear-gradient(135deg,#2e2210,#3d2815)}
.fc5{background:linear-gradient(135deg,#0d2e2a,#0a2035)} .fc6{background:linear-gradient(135deg,#3d1020,#2a0a25)}
.fc7{background:linear-gradient(135deg,#3d1035,#280a35)} .fc8{background:linear-gradient(135deg,#1a1040,#2a0d4a)}
.fc9{background:linear-gradient(135deg,#351530,#251040)}

/* Glow on cards */
.fc1{box-shadow:0 4px 20px rgba(255,20,147,.08)} .fc2{box-shadow:0 4px 20px rgba(168,85,247,.08)}
.fc3{box-shadow:0 4px 20px rgba(236,72,153,.06)} .fc4{box-shadow:0 4px 20px rgba(251,191,36,.06)}
.fc5{box-shadow:0 4px 20px rgba(45,212,168,.06)} .fc6{box-shadow:0 4px 20px rgba(244,63,95,.08)}
.fc7{box-shadow:0 4px 20px rgba(236,72,153,.06)} .fc8{box-shadow:0 4px 20px rgba(130,87,229,.08)}
.fc9{box-shadow:0 4px 20px rgba(255,143,171,.06)}

/* â•â•â• PLACEHOLDER â•â•â• */
.ph-wrap {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    height:65vh; text-align:center;
}
.ph-icon { font-size:70px; margin-bottom:18px; animation:greetFloat 3s ease-in-out infinite; }
.ph-title { font-size:20px; font-weight:700; color:rgba(255,255,255,.8); }
.ph-sub { color:rgba(255,255,255,.3); font-size:13px; margin-top:6px; font-weight:300; }
.ph-badge {
    margin-top:22px; padding:8px 22px; border-radius:50px;
    font-size:11px; font-weight:600; color:rgba(255,255,255,.5); letter-spacing:1px;
}

/* â•â•â• FOOTER â•â•â• */
.home-ft {
    text-align:center; padding:30px 0 10px;
    color:rgba(255,255,255,.12); font-size:10px; letter-spacing:2px;
}

/* â•â•â• SCROLLBAR â•â•â• */
::-webkit-scrollbar{width:2px} ::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:10px}

/* â•â•â• RIPPLE â•â•â• */
.ripple {
    position:absolute; border-radius:50%;
    background:rgba(255,255,255,.12);
    transform:scale(0); animation:rippleOut .6s ease-out; pointer-events:none;
}
@keyframes rippleOut { to{transform:scale(4);opacity:0} }
</style>
</head>
<body>

<div class="aurora"></div>
<div class="particles" id="particlesBg"></div>

<!-- â•â•â•â•â•â• SPLASH â•â•â•â•â•â• -->
<div class="page active" id="pg-splash">
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;position:relative">
        <div class="sp-glow"></div>
        <div class="sp-glow sp-glow2"></div>
        <div class="sp-ring"></div>
        <div class="sp-ring"></div>
        <div class="sp-ring"></div>
        <div class="sp-icon">ğŸ¤«</div>
        <div class="sp-title">The Silent Signal</div>
        <div class="sp-line"></div>
        <div class="sp-sub">only for us</div>
        <div class="sp-dots"><div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div></div>
    </div>
</div>

<!-- â•â•â•â•â•â• LOGIN â•â•â•â•â•â• -->
<div class="page" id="pg-login">
    <div style="flex:1;display:flex;align-items:center;justify-content:center;padding:24px">
        <div class="login-card glass" id="loginCard">
            <div class="login-icon">ğŸ¤«</div>
            <div class="login-title">Silent Signal</div>
            <div class="login-sub">Enter your signal to continue</div>

            <div class="inp-wrap">
                <span class="inp-icon">ğŸ‘¤</span>
                <input class="inp-field" type="text" id="inpUser" placeholder="Username" autocomplete="off" autocapitalize="off">
            </div>
            <div class="inp-wrap">
                <span class="inp-icon">ğŸ”‘</span>
                <input class="inp-field" type="password" id="inpPass" placeholder="Password">
            </div>

            <button class="btn btn-primary" id="btnLogin" onclick="handleLogin()">
                <span class="btn-text">Connect</span>
            </button>

            <div class="login-error" id="loginError"></div>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â• HOME â•â•â•â•â•â• -->
<div class="page" id="pg-home">
    <div class="home-scroll">
        <div class="greeting-wrap glass">
            <span class="greet-emoji" id="greetEmoji">ğŸŒ™</span>
            <div class="greet-text" id="greetText"></div>
            <div class="greet-sub" id="greetSub"></div>
            <div class="greet-status" id="greetStatus"></div>
            <div class="greet-quote" id="greetQuote"></div>
        </div>

        <div class="sect-title">âœ¦ our space âœ¦</div>

        <div class="feat-grid">
            <div class="feat-card fc1" onclick="nav('pg-chat')"><span class="feat-icon">ğŸ’¬</span><span class="feat-name">Chat</span></div>
            <div class="feat-card fc2" onclick="nav('pg-music')"><span class="feat-icon">ğŸµ</span><span class="feat-name">Music</span></div>
            <div class="feat-card fc3" onclick="nav('pg-memories')"><span class="feat-icon">ğŸ“¸</span><span class="feat-name">Memories</span></div>
            <div class="feat-card fc4" onclick="nav('pg-memes')"><span class="feat-icon">ğŸ˜‚</span><span class="feat-name">Memes</span></div>
            <div class="feat-card fc5" onclick="nav('pg-games')"><span class="feat-icon">ğŸƒ</span><span class="feat-name">Games</span></div>
            <div class="feat-card fc6" onclick="nav('pg-tod')"><span class="feat-icon">ğŸ¯</span><span class="feat-name">Truth & Dare</span></div>
            <div class="feat-card fc7" onclick="nav('pg-letters')"><span class="feat-icon">ğŸ’Œ</span><span class="feat-name">Letters</span></div>
            <div class="feat-card fc8" onclick="nav('pg-confess')"><span class="feat-icon">ğŸ¤«</span><span class="feat-name">Confessions</span></div>
            <div class="feat-card fc9" onclick="nav('pg-quotes')"><span class="feat-icon">ğŸ’­</span><span class="feat-name">Quotes</span></div>
        </div>

        <div class="home-ft">â™¡ our secret place â™¡</div>
    </div>
</div>

<!-- â•â•â•â•â•â• SUB PAGES â•â•â•â•â•â• -->
<div class="page" id="pg-chat">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’¬ Chat</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’¬</div><div class="ph-title">Chat Room</div><div class="ph-sub">our private conversations</div><div class="ph-badge glass">building next âš¡</div></div></div>
</div>
<div class="page" id="pg-music">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸµ Music</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸµ</div><div class="ph-title">Music Player</div><div class="ph-sub">our songs, our vibes</div><div class="ph-badge glass">coming soon ğŸ¶</div></div></div>
</div>
<div class="page" id="pg-memories">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ“¸ Memories</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ“¸</div><div class="ph-title">Our Memories</div><div class="ph-sub">every moment with you matters</div><div class="ph-badge glass">coming soon ğŸŒŸ</div></div></div>
</div>
<div class="page" id="pg-memes">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ˜‚ Memes</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ˜‚</div><div class="ph-title">Meme Zone</div><div class="ph-sub">laughing together forever</div><div class="ph-badge glass">coming soon ğŸ¤£</div></div></div>
</div>
<div class="page" id="pg-games">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸƒ Games</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸƒ</div><div class="ph-title">Card Games</div><div class="ph-sub">play together, stay together</div><div class="ph-badge glass">coming soon ğŸ²</div></div></div>
</div>
<div class="page" id="pg-tod">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ¯ Truth & Dare</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ¯</div><div class="ph-title">Truth or Dare</div><div class="ph-sub">how brave are you?</div><div class="ph-badge glass">coming soon ğŸ”¥</div></div></div>
</div>
<div class="page" id="pg-letters">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’Œ Letters</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’Œ</div><div class="ph-title">Love Letters</div><div class="ph-sub">words from the heart</div><div class="ph-badge glass">coming soon ğŸ’</div></div></div>
</div>
<div class="page" id="pg-confess">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ¤« Confessions</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ¤«</div><div class="ph-title">Confession Room</div><div class="ph-sub">speak freely here</div><div class="ph-badge glass">coming soon ğŸŒ™</div></div></div>
</div>
<div class="page" id="pg-quotes">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’­ Quotes</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’­</div><div class="ph-title">Love Quotes</div><div class="ph-sub">beautiful words for us</div><div class="ph-badge glass">coming soon âœ¨</div></div></div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
let socket = null;
let currentUser = null;
let currentPage = 'pg-splash';
let pageHistory = [];

const quotes = [
    "Every love story is beautiful, but ours is my favorite ğŸ’•",
    "In a sea of people, my eyes will always search for you",
    "You are my today and all of my tomorrows âœ¨",
    "I fell in love the way you fall asleep: slowly, then all at once",
    "You're the reason I look down at my phone and smile",
    "My heart is and always will be yours",
    "I wish I could turn back the clock to find you sooner",
    "You are my sun, my moon, and all my stars ğŸŒ™",
    "I love you more than yesterday, less than tomorrow",
    "You make my heart smile",
    "Together is my favorite place to be",
    "You had me at hello",
    "Some hearts understand each other even in silence ğŸ¤«"
];

/* â•â•â• NAVIGATION â•â•â• */
function nav(id, anim, addHist) {
    anim = anim || 'anim-slide';
    addHist = addHist !== false;
    if (currentPage === id) return;
    var old = document.getElementById(currentPage);
    var pg = document.getElementById(id);
    if (!pg) return;
    if (addHist) pageHistory.push(currentPage);
    old.classList.remove('active','anim-slide','anim-fade','anim-scale');
    pg.className = 'page active ' + anim;
    currentPage = id;
}
function goBack() {
    if (!pageHistory.length) return;
    var prev = pageHistory.pop();
    var old = document.getElementById(currentPage);
    var pg = document.getElementById(prev);
    old.classList.remove('active','anim-slide','anim-fade','anim-scale');
    pg.className = 'page active anim-fade';
    currentPage = prev;
}

/* â•â•â• LOGIN â•â•â• */
async function handleLogin() {
    var btn = document.getElementById('btnLogin');
    var err = document.getElementById('loginError');
    var username = document.getElementById('inpUser').value.trim();
    var password = document.getElementById('inpPass').value.trim();
    err.textContent = '';

    if (!username || !password) {
        err.textContent = 'âš ï¸ enter both fields';
        shakeCard(); return;
    }

    btn.classList.add('loading');
    try {
        var res = await fetch('/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username: username, password: password })
        });
        var data = await res.json();
        btn.classList.remove('loading');
        if (data.success) {
            currentUser = data.user;
            localStorage.setItem('tss_user', JSON.stringify(data.user));
            setupHome();
            connectSocket();
            nav('pg-home', 'anim-scale');
        } else {
            err.textContent = 'âœ• ' + data.message;
            shakeCard();
        }
    } catch (e) {
        btn.classList.remove('loading');
        err.textContent = 'âš ï¸ signal lost... server waking up (30s)';
        shakeCard();
    }
}

function shakeCard() {
    var c = document.getElementById('loginCard');
    c.classList.add('shake');
    setTimeout(function(){ c.classList.remove('shake'); }, 500);
}

// Enter key support
document.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && currentPage === 'pg-login') handleLogin();
});

/* â•â•â• HOME â•â•â• */
function setupHome() {
    if (!currentUser) return;
    var h = new Date().getHours();
    var greet = 'Good Evening', emoji = 'ğŸŒ†';
    if (h < 5) { greet = 'Sweet Dreams'; emoji = 'ğŸŒ™'; }
    else if (h < 12) { greet = 'Good Morning'; emoji = 'ğŸŒ…'; }
    else if (h < 17) { greet = 'Good Afternoon'; emoji = 'â˜€ï¸'; }
    else if (h < 21) { greet = 'Good Evening'; emoji = 'ğŸŒ†'; }
    else { greet = 'Good Night'; emoji = 'ğŸŒ™'; }

    document.getElementById('greetEmoji').textContent = emoji;
    document.getElementById('greetText').textContent = greet + ', ' + currentUser.displayName;
    document.getElementById('greetSub').textContent = 'what shall we do today?';
    document.getElementById('greetQuote').textContent = '"' + quotes[Math.floor(Math.random() * quotes.length)] + '"';
}

/* â•â•â• SOCKET â•â•â• */
function connectSocket() {
    if (socket) return;
    socket = io();
    socket.on('connect', function() {
        if (currentUser) socket.emit('user-online', currentUser.username);
    });
    socket.on('online-status', function(users) {
        var partner = currentUser.username === 'cavity' ? 'cingam' : 'cavity';
        var isOn = users.indexOf(partner) !== -1;
        var el = document.getElementById('greetStatus');
        el.innerHTML = '<span class="online-dot ' + (isOn ? 'dot-on' : 'dot-off') + '">â—</span> ' +
            (isOn ? 'partner is here ğŸ’š' : 'partner is away ğŸ’¤');
    });
}

/* â•â•â• PARTICLES â•â•â• */
function startParticles() {
    var c = document.getElementById('particlesBg');
    var hearts = ['â™¡','â™¥','âœ¦','â‹†','âœ§','Â·'];

    function make() {
        var el = document.createElement('div');
        var isHeart = Math.random() > 0.6;
        el.className = 'particle ' + (isHeart ? 'heart' : 'dot');

        if (isHeart) {
            el.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            el.style.fontSize = (Math.random() * 12 + 6) + 'px';
            el.style.color = 'rgba(255,20,147,' + (Math.random() * 0.3 + 0.15) + ')';
        } else {
            el.style.width = (Math.random() * 3 + 1) + 'px';
            el.style.height = el.style.width;
        }

        el.style.left = Math.random() * 100 + 'vw';
        el.style.animationDuration = (Math.random() * 12 + 12) + 's';
        el.style.animationDelay = Math.random() * 3 + 's';
        c.appendChild(el);
        setTimeout(function(){ el.remove(); }, 27000);
    }

    for (var i = 0; i < 12; i++) setTimeout(make, i * 200);
    setInterval(make, 1500);
}

/* â•â•â• RIPPLE â•â•â• */
document.addEventListener('touchstart', function(e) {
    var t = e.target.closest('.feat-card,.btn,.btn-back');
    if (!t) return;
    var r = t.getBoundingClientRect();
    var touch = e.touches[0];
    var rip = document.createElement('div');
    rip.className = 'ripple';
    var size = Math.max(r.width, r.height) * 2;
    rip.style.width = rip.style.height = size + 'px';
    rip.style.left = (touch.clientX - r.left - size/2) + 'px';
    rip.style.top = (touch.clientY - r.top - size/2) + 'px';
    t.style.position = t.style.position || 'relative';
    t.appendChild(rip);
    setTimeout(function(){ rip.remove(); }, 600);
}, { passive: true });

/* â•â•â• INIT â•â•â• */
function init() {
    startParticles();
    var saved = localStorage.getItem('tss_user');
    setTimeout(function() {
        if (saved) {
            try {
                currentUser = JSON.parse(saved);
                setupHome();
                connectSocket();
                nav('pg-home', 'anim-scale', false);
            } catch(e) {
                localStorage.removeItem('tss_user');
                nav('pg-login', 'anim-fade', false);
            }
        } else {
            nav('pg-login', 'anim-fade', false);
        }
    }, 3000);
}

init();
</script>
</body>
</html>
