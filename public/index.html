<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<title>ğŸ’• Love App</title>
<style>
:root{
    --pink:#FF1493;--rose:#E91E63;--purple:#A855F7;
    --glass:rgba(255,255,255,0.1);--glass-border:rgba(255,255,255,0.18);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden;font-family:'Poppins',sans-serif;background:#1a0a14}

/* â•â•â• AURORA BACKGROUND â•â•â• */
.aurora{position:fixed;inset:0;z-index:0;
    background:linear-gradient(-45deg,#ff6b9d,#c44569,#a855f7,#ec4899,#f472b6,#fda4af);
    background-size:400% 400%;animation:auroraShift 18s ease infinite}
.aurora::before{content:'';position:absolute;width:70vw;height:70vw;border-radius:50%;
    background:radial-gradient(circle,rgba(168,85,247,0.35),transparent 70%);
    top:-25%;right:-25%;animation:orbDrift 12s ease-in-out infinite}
.aurora::after{content:'';position:absolute;width:55vw;height:55vw;border-radius:50%;
    background:radial-gradient(circle,rgba(236,72,153,0.3),transparent 70%);
    bottom:-20%;left:-20%;animation:orbDrift 15s ease-in-out infinite reverse}
@keyframes auroraShift{
    0%{background-position:0% 50%}25%{background-position:50% 0%}
    50%{background-position:100% 50%}75%{background-position:50% 100%}100%{background-position:0% 50%}}
@keyframes orbDrift{
    0%,100%{transform:translate(0,0) scale(1)}
    33%{transform:translate(6%,-6%) scale(1.15)}
    66%{transform:translate(-4%,4%) scale(0.9)}}

/* â•â•â• FLOATING HEARTS â•â•â• */
.hearts-bg{position:fixed;inset:0;z-index:1;pointer-events:none;overflow:hidden}
.hrt{position:absolute;opacity:0;animation:hrtFloat linear infinite}
@keyframes hrtFloat{
    0%{transform:translateY(105vh) rotate(0) scale(0);opacity:0}
    6%{opacity:0.5;transform:translateY(92vh) rotate(25deg) scale(1)}
    50%{opacity:0.25}
    100%{transform:translateY(-8vh) rotate(400deg) scale(0.3);opacity:0}}

/* â•â•â• PAGE SYSTEM â•â•â• */
.page{position:fixed;inset:0;display:none;flex-direction:column;z-index:10;overflow:hidden}
.page.active{display:flex}
.page.anim-slide{animation:pgSlide .45s cubic-bezier(.16,1,.3,1)}
.page.anim-fade{animation:pgFade .4s ease}
.page.anim-scale{animation:pgScale .5s cubic-bezier(.16,1,.3,1)}
@keyframes pgSlide{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes pgFade{from{opacity:0}to{opacity:1}}
@keyframes pgScale{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}

/* â•â•â• GLASS â•â•â• */
.glass{background:var(--glass);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);
    border:1px solid var(--glass-border);
    box-shadow:0 8px 32px rgba(0,0,0,0.12),inset 0 1px 0 rgba(255,255,255,0.08)}

/* â•â•â• SPLASH â•â•â• */
#pg-splash{justify-content:center;align-items:center;
    background:linear-gradient(135deg,#1a0a2e 0%,#C2185B 50%,#4a0028 100%)}
.sp-ring{position:absolute;width:160px;height:160px;border-radius:50%;
    border:2px solid rgba(255,255,255,0.15);animation:ringGrow 2.5s ease-out infinite}
.sp-ring2{animation-delay:1.2s}
.sp-ring3{animation-delay:0.6s;width:120px;height:120px}
@keyframes ringGrow{0%{transform:scale(.5);opacity:.7}100%{transform:scale(3);opacity:0}}
.sp-heart{font-size:90px;z-index:2;animation:heartPump 1.2s ease-in-out infinite;
    filter:drop-shadow(0 0 40px rgba(255,100,200,0.6)) drop-shadow(0 0 80px rgba(255,50,150,0.3))}
@keyframes heartPump{0%,100%{transform:scale(1)}14%{transform:scale(1.2)}28%{transform:scale(1)}42%{transform:scale(1.15)}}
.sp-title{font-size:38px;font-weight:900;color:#fff;letter-spacing:10px;margin-top:24px;
    text-shadow:0 0 40px rgba(255,100,200,0.5);animation:txtReveal 1s ease .5s both}
.sp-sub{color:rgba(255,255,255,.6);font-size:13px;letter-spacing:3px;margin-top:8px;
    animation:txtReveal 1s ease 1s both}
@keyframes txtReveal{from{opacity:0;transform:translateY(20px);filter:blur(10px)}
    to{opacity:1;transform:translateY(0);filter:blur(0)}}
.sp-dots{display:flex;gap:10px;margin-top:50px;animation:txtReveal 1s ease 1.3s both}
.sp-dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.5);
    animation:dotJump 1.4s ease-in-out infinite}
.sp-dot:nth-child(2){animation-delay:.15s}.sp-dot:nth-child(3){animation-delay:.3s}
@keyframes dotJump{0%,100%{transform:translateY(0) scale(1);opacity:.3}
    50%{transform:translateY(-14px) scale(1.3);opacity:1}}

/* â•â•â• AUTH PAGE â•â•â• */
#pg-auth{justify-content:center;align-items:center;padding:24px}
.auth-card{width:100%;max-width:380px;border-radius:28px;padding:36px 28px;
    text-align:center;animation:pgScale .6s cubic-bezier(.16,1,.3,1)}
.auth-icon{font-size:56px;margin-bottom:6px;animation:authIconFloat 3s ease-in-out infinite}
@keyframes authIconFloat{0%,100%{transform:translateY(0) rotate(0)}
    50%{transform:translateY(-10px) rotate(5deg)}}
.auth-title{font-size:24px;font-weight:800;color:#fff;margin-bottom:4px}
.auth-sub{font-size:13px;color:rgba(255,255,255,.6);margin-bottom:30px}

.inp-wrap{position:relative;margin-bottom:16px;text-align:left}
.inp-icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);font-size:18px;z-index:2;
    transition:all .3s}
.inp-field{width:100%;padding:16px 18px 16px 52px;border-radius:16px;border:2px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.06);color:#fff;font-family:'Poppins',sans-serif;font-size:15px;
    outline:none;transition:all .4s cubic-bezier(.4,0,.2,1)}
.inp-field:focus{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.45);
    box-shadow:0 0 0 4px rgba(255,255,255,.06),0 0 25px rgba(255,20,147,.15)}
.inp-field:focus ~ .inp-icon{transform:translateY(-50%) scale(1.15)}
.inp-field::placeholder{color:rgba(255,255,255,.35);font-weight:300}

.role-section{margin:18px 0}
.role-label{color:rgba(255,255,255,.7);font-size:13px;font-weight:500;margin-bottom:12px}
.role-cards{display:flex;gap:14px}
.role-card{flex:1;padding:18px 10px;border-radius:18px;border:2px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.05);cursor:pointer;transition:all .35s cubic-bezier(.4,0,.2,1);
    text-align:center}
.role-card span:first-child{font-size:36px;display:block;margin-bottom:4px;transition:transform .3s}
.role-card span:last-child{color:rgba(255,255,255,.7);font-size:12px;font-weight:600}
.role-card.selected{border-color:rgba(255,255,255,.6);background:rgba(255,255,255,.18);
    box-shadow:0 0 25px rgba(255,20,147,.2)}
.role-card.selected span:first-child{transform:scale(1.2)}
.role-card:active{transform:scale(.95)}

.btn{width:100%;padding:16px;border:none;border-radius:16px;font-family:'Poppins',sans-serif;
    font-size:16px;font-weight:700;cursor:pointer;position:relative;overflow:hidden;
    transition:all .3s cubic-bezier(.4,0,.2,1);margin-top:8px}
.btn-primary{background:linear-gradient(135deg,#FF1493,#E040FB,#FF1493);background-size:200% 200%;
    color:#fff;animation:btnGrad 4s ease infinite;letter-spacing:1px;
    box-shadow:0 6px 25px rgba(255,20,147,.3)}
@keyframes btnGrad{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.btn-primary::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
    background:linear-gradient(45deg,transparent 42%,rgba(255,255,255,.15) 48%,
    rgba(255,255,255,.25) 50%,rgba(255,255,255,.15) 52%,transparent 58%);
    animation:btnShimmer 3.5s infinite}
@keyframes btnShimmer{0%{transform:translateX(-100%) rotate(25deg)}
    100%{transform:translateX(100%) rotate(25deg)}}
.btn:active{transform:scale(.96);box-shadow:0 3px 12px rgba(255,20,147,.25)}
.btn.loading{pointer-events:none;opacity:.75}
.btn.loading .btn-text{visibility:hidden}
.btn.loading::after{content:'';position:absolute;width:22px;height:22px;border:3px solid rgba(255,255,255,.3);
    border-top-color:#fff;border-radius:50%;animation:spin .7s linear infinite;
    top:50%;left:50%;margin:-11px 0 0 -11px}
@keyframes spin{to{transform:rotate(360deg)}}

.auth-error{color:#FFB4C6;font-size:13px;margin-top:12px;min-height:20px;
    transition:all .3s;font-weight:500}
.auth-toggle{color:rgba(255,255,255,.5);font-size:13px;margin-top:20px}
.auth-toggle a{color:#FFB6C1;font-weight:600;text-decoration:none;margin-left:4px}

.shake{animation:shakeIt .5s cubic-bezier(.36,.07,.19,.97)}
@keyframes shakeIt{10%,90%{transform:translateX(-4px)}20%,80%{transform:translateX(6px)}
    30%,50%,70%{transform:translateX(-8px)}40%,60%{transform:translateX(8px)}}

/* â•â•â• HEADER â•â•â• */
.pg-header{display:flex;align-items:center;gap:14px;
    padding:16px 20px;padding-top:max(16px,env(safe-area-inset-top));
    min-height:62px;z-index:5;border-bottom:1px solid rgba(255,255,255,.08)}
.pg-header.glass{border-radius:0}
.btn-back{width:42px;height:42px;border-radius:50%;border:none;
    background:rgba(255,255,255,.1);color:#fff;font-size:20px;cursor:pointer;
    display:flex;align-items:center;justify-content:center;transition:all .25s;
    backdrop-filter:blur(10px)}
.btn-back:active{transform:scale(.88);background:rgba(255,255,255,.25)}
.pg-title{font-size:18px;font-weight:700;color:#fff;letter-spacing:.5px}
.pg-body{flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding:20px}

/* â•â•â• HOME â•â•â• */
.home-scroll{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:20px 18px 40px}

.greeting-card{border-radius:24px;padding:28px 20px;text-align:center;margin-bottom:28px;
    position:relative;overflow:hidden;animation:pgScale .6s cubic-bezier(.16,1,.3,1)}
.greeting-card::before{content:'';position:absolute;inset:0;
    background:linear-gradient(135deg,rgba(255,20,147,.15),rgba(168,85,247,.1));pointer-events:none}
.greet-emoji{font-size:52px;display:block;animation:emojiFloat 4s ease-in-out infinite}
@keyframes emojiFloat{0%,100%{transform:translateY(0) scale(1)}
    50%{transform:translateY(-10px) scale(1.05)}}
.greet-text{font-size:24px;font-weight:800;color:#fff;margin-top:10px;
    text-shadow:0 2px 15px rgba(0,0,0,.15)}
.greet-sub{color:rgba(255,255,255,.65);font-size:13px;margin-top:6px;font-weight:300}
.greet-quote{color:rgba(255,255,255,.5);font-size:11px;margin-top:14px;font-style:italic;
    padding:0 10px;line-height:1.5}
.online-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:6px;
    box-shadow:0 0 8px currentColor}
.online{color:#4ADE80}.offline{color:#FB7185}

.section-title{color:rgba(255,255,255,.5);font-size:11px;font-weight:700;letter-spacing:3px;
    text-transform:uppercase;text-align:center;margin-bottom:18px}

/* â•â•â• FEATURE GRID â•â•â• */
.feat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;max-width:440px;margin:0 auto}
.feat-card{aspect-ratio:1;border-radius:22px;display:flex;flex-direction:column;
    align-items:center;justify-content:center;cursor:pointer;position:relative;overflow:hidden;
    border:1px solid rgba(255,255,255,.12);transition:all .3s cubic-bezier(.4,0,.2,1)}
.feat-card::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
    background:linear-gradient(45deg,transparent 40%,rgba(255,255,255,.08) 45%,
    rgba(255,255,255,.18) 50%,rgba(255,255,255,.08) 55%,transparent 60%);
    animation:shine 5s infinite;pointer-events:none}
@keyframes shine{0%{transform:translateX(-120%) rotate(30deg)}
    100%{transform:translateX(120%) rotate(30deg)}}
.feat-card::after{content:'';position:absolute;inset:0;border-radius:inherit;
    background:radial-gradient(circle at 25% 15%,rgba(255,255,255,.12),transparent 55%);pointer-events:none}
.feat-card:active{transform:scale(.9);filter:brightness(1.15)}
.feat-icon{font-size:34px;margin-bottom:8px;filter:drop-shadow(0 3px 6px rgba(0,0,0,.15));
    transition:transform .3s}
.feat-card:active .feat-icon{transform:scale(1.2) rotate(-8deg)}
.feat-name{font-size:10px;font-weight:700;color:#fff;letter-spacing:.8px;text-transform:uppercase;
    text-shadow:0 1px 6px rgba(0,0,0,.2)}

/* Card stagger */
.feat-card{opacity:0;animation:cardBounce .5s cubic-bezier(.16,1,.3,1) forwards}
.feat-card:nth-child(1){animation-delay:.05s}.feat-card:nth-child(2){animation-delay:.1s}
.feat-card:nth-child(3){animation-delay:.15s}.feat-card:nth-child(4){animation-delay:.22s}
.feat-card:nth-child(5){animation-delay:.29s}.feat-card:nth-child(6){animation-delay:.36s}
.feat-card:nth-child(7){animation-delay:.43s}.feat-card:nth-child(8){animation-delay:.5s}
.feat-card:nth-child(9){animation-delay:.57s}
@keyframes cardBounce{from{opacity:0;transform:scale(.6) translateY(30px)}
    to{opacity:1;transform:scale(1) translateY(0)}}

/* Card gradients */
.fc1{background:linear-gradient(135deg,#FF4B8C,#B91C5A)}.fc2{background:linear-gradient(135deg,#9B59E0,#6C2DC7)}
.fc3{background:linear-gradient(135deg,#FF8C42,#E8598B)}.fc4{background:linear-gradient(135deg,#F7C948,#E8A020)}
.fc5{background:linear-gradient(135deg,#2DD4A8,#0B8A6E)}.fc6{background:linear-gradient(135deg,#FF3B6F,#C4163A)}
.fc7{background:linear-gradient(135deg,#E84B8A,#B8237A)}.fc8{background:linear-gradient(135deg,#8257E5,#5A2DBA)}
.fc9{background:linear-gradient(135deg,#FF8FAB,#E65C84)}

/* â•â•â• PLACEHOLDER â•â•â• */
.ph-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;
    height:65vh;text-align:center}
.ph-icon{font-size:80px;margin-bottom:20px;animation:emojiFloat 3s ease-in-out infinite}
.ph-title{color:#fff;font-size:22px;font-weight:700}
.ph-sub{color:rgba(255,255,255,.6);font-size:13px;margin-top:8px}
.ph-badge{margin-top:22px;padding:10px 28px;border-radius:50px;font-size:12px;
    font-weight:600;color:#fff;letter-spacing:1px}
.ph-badge.glass{animation:pgScale .5s ease .2s both}

/* â•â•â• HOME FOOTER â•â•â• */
.home-ft{text-align:center;padding:30px 0 10px;color:rgba(255,255,255,.3);font-size:11px;letter-spacing:1px}

/* â•â•â• SCROLLBAR â•â•â• */
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:0 0}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2);border-radius:10px}

/* â•â•â• RIPPLE â•â•â• */
.ripple{position:absolute;border-radius:50%;background:rgba(255,255,255,.25);
    transform:scale(0);animation:rippleOut .6s ease-out;pointer-events:none}
@keyframes rippleOut{to{transform:scale(4);opacity:0}}
</style>
</head>
<body>

<div class="aurora"></div>
<div class="hearts-bg" id="heartsBg"></div>

<!-- â•â•â•â•â•â• SPLASH â•â•â•â•â•â• -->
<div class="page active" id="pg-splash">
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;position:relative">
        <div class="sp-ring"></div>
        <div class="sp-ring sp-ring2"></div>
        <div class="sp-ring sp-ring3"></div>
        <div class="sp-heart">ğŸ’•</div>
        <div class="sp-title">LOVE</div>
        <div class="sp-sub">Made with love, just for us âœ¨</div>
        <div class="sp-dots"><div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div></div>
    </div>
</div>

<!-- â•â•â•â•â•â• AUTH â•â•â•â•â•â• -->
<div class="page" id="pg-auth">
    <div style="flex:1;display:flex;align-items:center;justify-content:center;padding:24px">
        <div class="auth-card glass" id="authCard">
            <div class="auth-icon">ğŸ’•</div>
            <div class="auth-title" id="authTitle">Welcome Back</div>
            <div class="auth-sub" id="authSub">Login to your private space</div>

            <div class="inp-wrap">
                <span class="inp-icon">ğŸ‘¤</span>
                <input class="inp-field" type="text" id="inpUser" placeholder="Username" autocomplete="off" autocapitalize="off">
            </div>
            <div class="inp-wrap">
                <span class="inp-icon">ğŸ”’</span>
                <input class="inp-field" type="password" id="inpPass" placeholder="Password">
            </div>
            <div class="inp-wrap" id="inpNameWrap" style="display:none">
                <span class="inp-icon">ğŸ’•</span>
                <input class="inp-field" type="text" id="inpName" placeholder="Your Display Name" autocomplete="off">
            </div>

            <div class="role-section" id="roleSection" style="display:none">
                <div class="role-label">Who are you?</div>
                <div class="role-cards">
                    <div class="role-card" id="rcBoy" onclick="pickRole('boy')">
                        <span>ğŸ¤´</span><span>Him</span>
                    </div>
                    <div class="role-card" id="rcGirl" onclick="pickRole('girl')">
                        <span>ğŸ‘¸</span><span>Her</span>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" id="btnAuth" onclick="handleAuth()">
                <span class="btn-text" id="btnAuthText">Login</span>
            </button>

            <div class="auth-error" id="authError"></div>

            <div class="auth-toggle">
                <span id="toggleText">Don't have an account?</span>
                <a href="#" id="toggleLink" onclick="toggleMode(event)">Register</a>
            </div>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â• HOME â•â•â•â•â•â• -->
<div class="page" id="pg-home">
    <div class="home-scroll">
        <div class="greeting-card glass">
            <span class="greet-emoji" id="greetEmoji">ğŸ’‘</span>
            <div class="greet-text" id="greetText"></div>
            <div class="greet-sub" id="greetSub"></div>
            <div class="greet-quote" id="greetQuote"></div>
        </div>

        <div class="section-title">âœ¨ Our Space âœ¨</div>

        <div class="feat-grid">
            <div class="feat-card fc1" onclick="nav('pg-chat')"><span class="feat-icon">ğŸ’¬</span><span class="feat-name">Chat</span></div>
            <div class="feat-card fc2" onclick="nav('pg-music')"><span class="feat-icon">ğŸµ</span><span class="feat-name">Music</span></div>
            <div class="feat-card fc3" onclick="nav('pg-memories')"><span class="feat-icon">ğŸ“¸</span><span class="feat-name">Memories</span></div>
            <div class="feat-card fc4" onclick="nav('pg-memes')"><span class="feat-icon">ğŸ˜‚</span><span class="feat-name">Memes</span></div>
            <div class="feat-card fc5" onclick="nav('pg-games')"><span class="feat-icon">ğŸƒ</span><span class="feat-name">Games</span></div>
            <div class="feat-card fc6" onclick="nav('pg-tod')"><span class="feat-icon">ğŸ¯</span><span class="feat-name">Truth & Dare</span></div>
            <div class="feat-card fc7" onclick="nav('pg-letters')"><span class="feat-icon">ğŸ’Œ</span><span class="feat-name">Letters</span></div>
            <div class="feat-card fc8" onclick="nav('pg-confess')"><span class="feat-icon">ğŸ¤«</span><span class="feat-name">Confessions</span></div>
            <div class="feat-card fc9" onclick="nav('pg-quotes')"><span class="feat-icon">ğŸ’­</span><span class="feat-name">Quotes</span></div>
        </div>

        <div class="home-ft">Made with â¤ï¸ for us</div>
    </div>
</div>

<!-- â•â•â•â•â•â• SUB PAGES â•â•â•â•â•â• -->
<div class="page" id="pg-chat">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’¬ Chat</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’¬</div><div class="ph-title">Chat Room</div><div class="ph-sub">Our private conversations</div><div class="ph-badge glass">ğŸ”¨ Building Next</div></div></div>
</div>
<div class="page" id="pg-music">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸµ Music</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸµ</div><div class="ph-title">Music Player</div><div class="ph-sub">Our songs, our vibes</div><div class="ph-badge glass">ğŸ¶ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-memories">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ“¸ Memories</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ“¸</div><div class="ph-title">Our Memories</div><div class="ph-sub">Every moment with you matters</div><div class="ph-badge glass">ğŸŒŸ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-memes">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ˜‚ Memes</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ˜‚</div><div class="ph-title">Meme Zone</div><div class="ph-sub">Laughing together forever</div><div class="ph-badge glass">ğŸ¤£ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-games">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸƒ Card Games</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸƒ</div><div class="ph-title">Card Games</div><div class="ph-sub">Play together, stay together</div><div class="ph-badge glass">ğŸ² Coming Soon</div></div></div>
</div>
<div class="page" id="pg-tod">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ¯ Truth & Dare</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ¯</div><div class="ph-title">Truth or Dare</div><div class="ph-sub">How brave are you, baby?</div><div class="ph-badge glass">ğŸ”¥ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-letters">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’Œ Love Letters</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’Œ</div><div class="ph-title">Love Letters</div><div class="ph-sub">Words straight from the heart</div><div class="ph-badge glass">ğŸ’ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-confess">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ¤« Confessions</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ¤«</div><div class="ph-title">Confession Room</div><div class="ph-sub">Your safe space to speak freely</div><div class="ph-badge glass">ğŸŒ™ Coming Soon</div></div></div>
</div>
<div class="page" id="pg-quotes">
    <div class="pg-header glass"><button class="btn-back" onclick="goBack()">â†</button><span class="pg-title">ğŸ’­ Quotes</span></div>
    <div class="pg-body"><div class="ph-wrap"><div class="ph-icon">ğŸ’­</div><div class="ph-title">Love Quotes</div><div class="ph-sub">Beautiful words for us</div><div class="ph-badge glass">âœ¨ Coming Soon</div></div></div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOVE APP â€” Made with â¤ï¸
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const SERVER = '';
let socket = null;
let currentUser = null;
let currentPage = 'pg-splash';
let pageHistory = [];
let authMode = 'login';
let selectedRole = null;

const quotes = [
    "Every love story is beautiful, but ours is my favorite ğŸ’•",
    "In a sea of people, my eyes will always search for you ğŸŒŠ",
    "You are my today and all of my tomorrows âœ¨",
    "I fell in love the way you fall asleep: slowly, then all at once ğŸ’«",
    "You're the reason I look down at my phone and smile ğŸ˜Š",
    "My heart is and always will be yours ğŸ’—",
    "I wish I could turn back the clock to find you sooner ğŸ•",
    "You are my sun, my moon, and all my stars ğŸŒ™",
    "I love you more than yesterday, less than tomorrow ğŸ’",
    "You make my heart smile ğŸ˜"
];

/* â•â•â• NAVIGATION â•â•â• */
function nav(id, anim = 'anim-slide', addHist = true) {
    if (currentPage === id) return;
    const oldPg = document.getElementById(currentPage);
    const newPg = document.getElementById(id);
    if (!newPg) return;
    if (addHist) pageHistory.push(currentPage);
    oldPg.classList.remove('active','anim-slide','anim-fade','anim-scale');
    newPg.className = 'page active ' + anim;
    currentPage = id;
}
function goBack() {
    if (!pageHistory.length) return;
    const prev = pageHistory.pop();
    const oldPg = document.getElementById(currentPage);
    const newPg = document.getElementById(prev);
    oldPg.classList.remove('active','anim-slide','anim-fade','anim-scale');
    newPg.className = 'page active anim-fade';
    currentPage = prev;
}

/* â•â•â• AUTH â•â•â• */
function toggleMode(e) {
    e.preventDefault();
    const card = document.getElementById('authCard');
    card.classList.add('shake');
    setTimeout(() => card.classList.remove('shake'), 500);

    if (authMode === 'login') {
        authMode = 'register';
        document.getElementById('authTitle').textContent = 'Create Account';
        document.getElementById('authSub').textContent = 'Join your private love space';
        document.getElementById('btnAuthText').textContent = 'Register';
        document.getElementById('toggleText').textContent = 'Already have an account?';
        document.getElementById('toggleLink').textContent = 'Login';
        document.getElementById('roleSection').style.display = 'block';
        document.getElementById('inpNameWrap').style.display = 'block';
    } else {
        authMode = 'login';
        document.getElementById('authTitle').textContent = 'Welcome Back';
        document.getElementById('authSub').textContent = 'Login to your private space';
        document.getElementById('btnAuthText').textContent = 'Login';
        document.getElementById('toggleText').textContent = "Don't have an account?";
        document.getElementById('toggleLink').textContent = 'Register';
        document.getElementById('roleSection').style.display = 'none';
        document.getElementById('inpNameWrap').style.display = 'none';
    }
    document.getElementById('authError').textContent = '';
}

function pickRole(r) {
    selectedRole = r;
    document.getElementById('rcBoy').classList.toggle('selected', r === 'boy');
    document.getElementById('rcGirl').classList.toggle('selected', r === 'girl');
}

async function handleAuth() {
    const btn = document.getElementById('btnAuth');
    const errEl = document.getElementById('authError');
    const username = document.getElementById('inpUser').value.trim();
    const password = document.getElementById('inpPass').value.trim();
    errEl.textContent = '';

    if (!username || !password) { errEl.textContent = 'âš ï¸ Fill in all fields'; shakeCard(); return; }

    if (authMode === 'register') {
        const displayName = document.getElementById('inpName').value.trim();
        if (!displayName) { errEl.textContent = 'âš ï¸ Enter your display name'; shakeCard(); return; }
        if (!selectedRole) { errEl.textContent = 'âš ï¸ Select who you are'; shakeCard(); return; }

        btn.classList.add('loading');
        try {
            const res = await fetch(SERVER + '/api/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password, role: selectedRole, displayName })
            });
            const data = await res.json();
            btn.classList.remove('loading');
            if (data.success) {
                currentUser = data.user;
                localStorage.setItem('loveapp_user', JSON.stringify(data.user));
                setupHome();
                connectSocket();
                nav('pg-home', 'anim-scale');
            } else {
                errEl.textContent = 'âŒ ' + data.message;
                shakeCard();
            }
        } catch (e) {
            btn.classList.remove('loading');
            errEl.textContent = 'âš ï¸ Server waking up... try again in 30s';
            shakeCard();
        }
    } else {
        btn.classList.add('loading');
        try {
            const res = await fetch(SERVER + '/api/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            const data = await res.json();
            btn.classList.remove('loading');
            if (data.success) {
                currentUser = data.user;
                localStorage.setItem('loveapp_user', JSON.stringify(data.user));
                setupHome();
                connectSocket();
                nav('pg-home', 'anim-scale');
            } else {
                errEl.textContent = 'âŒ ' + data.message;
                shakeCard();
            }
        } catch (e) {
            btn.classList.remove('loading');
            errEl.textContent = 'âš ï¸ Server waking up... try again in 30s';
            shakeCard();
        }
    }
}

function shakeCard() {
    const c = document.getElementById('authCard');
    c.classList.add('shake');
    setTimeout(() => c.classList.remove('shake'), 500);
}

/* â•â•â• HOME SETUP â•â•â• */
function setupHome() {
    if (!currentUser) return;
    const hour = new Date().getHours();
    let greet = 'Good Evening';
    let emoji = 'ğŸŒ†';
    if (hour < 5) { greet = 'Sweet Dreams'; emoji = 'ğŸŒ™'; }
    else if (hour < 12) { greet = 'Good Morning'; emoji = 'ğŸŒ…'; }
    else if (hour < 17) { greet = 'Good Afternoon'; emoji = 'â˜€ï¸'; }
    else if (hour < 21) { greet = 'Good Evening'; emoji = 'ğŸŒ†'; }
    else { greet = 'Good Night'; emoji = 'ğŸŒ™'; }

    document.getElementById('greetEmoji').textContent = emoji;
    document.getElementById('greetText').textContent = greet + ', ' + currentUser.displayName + '!';
    document.getElementById('greetSub').textContent = 'What shall we do today? ğŸ’•';
    document.getElementById('greetQuote').textContent = '"' + quotes[Math.floor(Math.random() * quotes.length)] + '"';
}

/* â•â•â• SOCKET â•â•â• */
function connectSocket() {
    if (socket) return;
    socket = io();
    socket.on('connect', () => {
        if (currentUser) socket.emit('user-online', currentUser.role);
    });
    socket.on('online-status', (users) => {
        const partner = currentUser.role === 'boy' ? 'girl' : 'boy';
        const isOnline = users.includes(partner);
        document.getElementById('greetSub').innerHTML =
            '<span class="online-dot ' + (isOnline ? 'online' : 'offline') + '">â—</span> Partner is ' +
            (isOnline ? 'online ğŸ’š' : 'offline ğŸ’¤');
    });
}

/* â•â•â• FLOATING HEARTS â•â•â• */
function startHearts() {
    const c = document.getElementById('heartsBg');
    const h = ['â¤ï¸','ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’','ğŸ’˜','ğŸ’“','ğŸ’','ğŸ©·','âœ¨','ğŸ’«','â­'];
    function make() {
        const el = document.createElement('div');
        el.className = 'hrt';
        el.textContent = h[Math.floor(Math.random() * h.length)];
        el.style.left = Math.random() * 100 + 'vw';
        el.style.fontSize = (Math.random() * 16 + 8) + 'px';
        el.style.animationDuration = (Math.random() * 10 + 10) + 's';
        el.style.animationDelay = Math.random() * 2 + 's';
        c.appendChild(el);
        setTimeout(() => el.remove(), 22000);
    }
    for (let i = 0; i < 10; i++) setTimeout(make, i * 250);
    setInterval(make, 1200);
}

/* â•â•â• RIPPLE EFFECT â•â•â• */
document.addEventListener('touchstart', function(e) {
    const t = e.target.closest('.feat-card,.btn,.role-card,.btn-back');
    if (!t) return;
    const r = t.getBoundingClientRect();
    const touch = e.touches[0];
    const rip = document.createElement('div');
    rip.className = 'ripple';
    const size = Math.max(r.width, r.height) * 2;
    rip.style.width = rip.style.height = size + 'px';
    rip.style.left = (touch.clientX - r.left - size/2) + 'px';
    rip.style.top = (touch.clientY - r.top - size/2) + 'px';
    t.style.position = t.style.position || 'relative';
    t.appendChild(rip);
    setTimeout(() => rip.remove(), 600);
}, { passive: true });

/* â•â•â• INIT â•â•â• */
function init() {
    startHearts();
    const saved = localStorage.getItem('loveapp_user');
    setTimeout(() => {
        if (saved) {
            try {
                currentUser = JSON.parse(saved);
                setupHome();
                connectSocket();
                nav('pg-home', 'anim-scale', false);
            } catch(e) {
                localStorage.removeItem('loveapp_user');
                nav('pg-auth', 'anim-fade', false);
            }
        } else {
            nav('pg-auth', 'anim-fade', false);
        }
    }, 3000);
}

init();
</script>
</body>
</html>
